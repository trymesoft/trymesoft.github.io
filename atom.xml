<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Star Wang</title>
  <icon>https://www.gravatar.com/avatar/13a05b1c3501d56e3910ce7b38f002a3</icon>
  <subtitle>To see the new world!</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://tryme.wang/"/>
  <updated>2019-01-12T09:10:55.514Z</updated>
  <id>https://tryme.wang/</id>
  
  <author>
    <name>Star Wang</name>
    <email>tryme.wang@gmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Thymeleaf çš„ç¼“å­˜å¯¼è‡´çƒ­éƒ¨ç½²çš„é—®é¢˜</title>
    <link href="https://tryme.wang/2019/01/idea-hotswap-thymeleaf-cache/"/>
    <id>https://tryme.wang/2019/01/idea-hotswap-thymeleaf-cache/</id>
    <published>2019-01-12T08:55:00.000Z</published>
    <updated>2019-01-12T09:10:55.514Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ä½¿ç”¨ IDEA çƒ­éƒ¨ç½²é¡¹ç›®æ—¶ï¼Œä¹‹å‰çš„é¡¹ç›®é…ç½®å®Œæˆåï¼Œé¡µé¢æ–‡ä»¶æ”¹åŠ¨æˆ–è€… Java æ–‡ä»¶æ”¹åŠ¨éƒ½èƒ½å³æ—¶çƒ­éƒ¨ç½²ï¼Œä½†æ˜¯åœ¨å…¬å¸ä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œçƒ­éƒ¨ç½²çªç„¶å¤±æ•ˆï¼ŒæŠ˜è…¾äº†åŠå¤©ğŸ˜­ã€‚</p></blockquote><h3 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› </h3><p>å› ä¸ºè¦æ¥æ‰‹ä¸€ä¸ªé¡¹ç›®ï¼Œåœ¨éƒ¨ç½²è°ƒè¯•çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°é¡µé¢çš„çƒ­éƒ¨ç½²åœ¨ IDEA ä¸­ä¸å¥½ç”¨ï¼Œå½“é¡µé¢ä¸­çš„ä»£ç æ›´æ”¹æ—¶ï¼Œæ— è®ºæ˜¯ IDEA æ‰‹åŠ¨ update è¿˜æ˜¯å¤±å»ç„¦ç‚¹ï¼Œè™½ç„¶å‡ºå‘äº†çƒ­éƒ¨ç½²ï¼Œä½†æ˜¯é¡µé¢æ–‡ä»¶åˆ†æ˜æœ‰äº†æ”¹åŠ¨ï¼Œä½†æ˜¯æ€»æ˜¯æç¤º <code>Loaded classes are up to date.Nothing to reload</code>ï¼Œå¾ˆæ˜¯å¥‡æ€ªğŸ¤”ï¼Œåæ¥æ”¹åŠ¨ Java æ–‡ä»¶ï¼Œçƒ­éƒ¨ç½²æ²¡é—®é¢˜ï¼ŒçœŸæ˜¯å“”äº†ğŸ¶äº†ã€‚</p><hr><h3 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h3><p>å¼€å§‹ä»¥ä¸ºæ˜¯è‡ªå·±é…ç½®é…ç½®çš„é—®é¢˜ï¼Œå¯ä¹‹å‰çš„é¡¹ç›®ä¹Ÿæ˜¯è¿™ä¹ˆé…ç½®çš„ï¼Œæœ‰é—®é¢˜æ—©å°±æš´éœ²å‡ºæ¥äº†ï¼Œä¸åº”è¯¥æ˜¯é…ç½®çš„é—®é¢˜ã€‚</p><p>åœ¨ <code>Dont&#39;t be evil --- Google</code> çš„ç½‘ç«™ä¸Šé¨æ¸¸äº†ä¸€ç•ªï¼Œæ‰¾äº†å¥½å¤šç­”æ¡ˆéƒ½ä¸æ˜¯æƒ³è¦çš„ï¼Œç»ˆäºåœ¨ä¸‹ç­å‰å¤•è¢«æˆ‘æ‰¾åˆ°äº†ğŸ˜ï¼Œç­”æ¡ˆåœ¨<a href="https://stackoverflow.com/questions/50395971/unable-to-hotswap-html-file-in-intellij-with-tomcat-9" target="_blank" rel="noopener">è¿™é‡Œ</a>ã€‚</p><p><img src="https://ws1.sinaimg.cn/large/007jb4T5ly1fz3wesnr3xj311q0ea422.jpg" alt="image" align="center"></p><p>åŸæ¥æ˜¯ <code>Thymeleaf</code> çš„ç¼“å­˜ğŸ˜‚ï¼Œèµ¶ç´§å»æŸ¥çœ‹é…ç½®æ–‡ä»¶ï¼Œå‘ç°äº† <code>Thymeleaf</code> çš„é…ç½®ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"templateResolver"</span> <span class="attr">class</span>=<span class="string">"org.thymeleaf.templateresolver.ServletContextTemplateResolver"</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"cacheable"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"cacheTTLMs"</span> <span class="attr">value</span>=<span class="string">"#&#123;60*60*1000&#125;"</span>/&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>éƒ½æ˜¯è¿™ä¸ª <code>cacheable</code> çš„é”…ï¼Œæ”¹ä¸º <code>false</code> ï¼Œé‡å¯åä¸€åˆ‡æ­£å¸¸ï¼Œåˆèƒ½æ„‰å¿«çš„ç©è€äº†ğŸ˜Šã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;ä½¿ç”¨ IDEA çƒ­éƒ¨ç½²é¡¹ç›®æ—¶ï¼Œä¹‹å‰çš„é¡¹ç›®é…ç½®å®Œæˆåï¼Œé¡µé¢æ–‡ä»¶æ”¹åŠ¨æˆ–è€… Java æ–‡ä»¶æ”¹åŠ¨éƒ½èƒ½å³æ—¶çƒ­éƒ¨ç½²ï¼Œä½†æ˜¯åœ¨å…¬å¸ä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œçƒ­éƒ¨ç½²çªç„¶å¤±æ•ˆï¼ŒæŠ˜è…¾äº†åŠå¤©ğŸ˜­ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;èµ·å› &quot;&gt;&lt;a href=&quot;#èµ·å› &quot; 
      
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="https://tryme.wang/categories/%E6%8A%80%E6%9C%AF/"/>
    
      <category term="å·¥å…·" scheme="https://tryme.wang/categories/%E6%8A%80%E6%9C%AF/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="IDEA" scheme="https://tryme.wang/tags/IDEA/"/>
    
      <category term="Thymeleaf" scheme="https://tryme.wang/tags/Thymeleaf/"/>
    
  </entry>
  
  <entry>
    <title>MySQL äº‹åŠ¡æ•è·å¼‚å¸¸åæ— æ³•å›æ»š</title>
    <link href="https://tryme.wang/2019/01/transaction-not-rollback/"/>
    <id>https://tryme.wang/2019/01/transaction-not-rollback/</id>
    <published>2019-01-08T11:25:00.000Z</published>
    <updated>2019-01-12T09:11:53.847Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å½“å‰é…ç½®"><a href="#å½“å‰é…ç½®" class="headerlink" title="å½“å‰é…ç½®"></a>å½“å‰é…ç½®</h3><p>ç”±äºé¡¹ç›®æ˜¯ SSM æ¡†æ¶æ•´åˆè€Œæˆï¼ŒMySQL çš„äº‹åŠ¡é…ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ•°æ®æºé…ç½®--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"com.alibaba.druid.pool.DruidDataSource"</span></span></span><br><span class="line"><span class="tag"><span class="attr">init-method</span>=<span class="string">"init"</span> <span class="attr">destroy-method</span>=<span class="string">"close"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc_url&#125;"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc_username&#125;"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"$&#123;jdbc_password&#125;"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--äº‹åŠ¡ç®¡ç†é…ç½®--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"transactionManager"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--åˆ‡é¢é…ç½®--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">id</span>=<span class="string">"txAdvice"</span> <span class="attr">transaction-manager</span>=<span class="string">"transactionManager"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"get*"</span> <span class="attr">read-only</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"find*"</span> <span class="attr">read-only</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--AOP é…ç½®--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æŠŠäº‹åŠ¡æ§åˆ¶åœ¨ Service å±‚--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">"allServiceMethod"</span></span></span><br><span class="line"><span class="tag">                  <span class="attr">expression</span>=<span class="string">"execution(* com.test.*.service..*.*(..))"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">"txAdvice"</span> <span class="attr">pointcut-ref</span>=<span class="string">"allServiceMethod"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å¼€å¯æ³¨è§£æ–¹å¼é…ç½®äº‹ç‰© --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:annotation-driven</span> <span class="attr">transaction-manager</span>=<span class="string">"transactionManager"</span> /&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="é—®é¢˜åˆ†æ"><a href="#é—®é¢˜åˆ†æ" class="headerlink" title="é—®é¢˜åˆ†æ"></a>é—®é¢˜åˆ†æ</h3><p>åœ¨ä¸€ä¸ªäº‹åŠ¡ç®¡ç†çš„æ¥å£ï¼Œæ–¹æ³•æŠ›å‡ºäº† <code>NullPointerException</code> å¼‚å¸¸ï¼Œä½†æ˜¯æœ‰å…³æ•°æ®åº“è¡¨çš„æ“ä½œå´æ²¡æœ‰å›æ»šï¼Œä¼ªä»£ç ç‰‡æ®µå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">   noticeMapper.insert(notice);</span><br><span class="line">   noticeLogMapper.insert(noticeLog);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    LOGGER.error(<span class="string">"æ•°æ®æ’å…¥å¼‚å¸¸ï¼ï¼ï¼"</span>);</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>åœ¨ <code>noticeLog</code> çš„æ’å…¥è¿‡ç¨‹ä¸­ä»£ç æŠ›å‡ºäº†å¼‚å¸¸ï¼Œä½†æ˜¯ <code>notice</code> å´æˆåŠŸçš„æ’å…¥åˆ°äº†æ•°æ®åº“ï¼Œç›¸å½“äºè¿™ä¸ªæ˜æ˜è¢«äº‹åŠ¡ç®¡ç†çš„æ–¹æ³•åœ¨é‡åˆ°ç¨‹åºå¼‚å¸¸å´æ²¡æœ‰å›æ»šäº‹åŠ¡ğŸ¤”ã€‚ </p><p>æŸ¥é˜…æ–‡æ¡£åŠèµ„æ–™ï¼Œåœ¨ Spring <a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/data-access.html#transaction-declarative-rolling-back" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ä¸­æœ‰è§£é‡Šï¼š</p><p><img src="https://ws3.sinaimg.cn/large/007jb4T5ly1fz3v3a1rpej31gw10ealk.jpg" alt="image" align="center"></p><p>æ³¨æ„ä¸­é—´çº¢æ¡†æ®µè½ï¼Œç¿»è¯‘ä¸€ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">In its default configuration, the Spring Frameworkâ€™s transaction infrastructure code marks a transaction for rollback only in the case of runtime, unchecked exceptions. That is, when the thrown exception is an instance or subclass of RuntimeException. ( Error instances also, by default, result in a rollback). Checked exceptions that are thrown from a transactional method do not result in rollback in the default configuration. </span><br><span class="line"></span><br><span class="line">åœ¨å…¶é»˜è®¤é…ç½®ä¸­ï¼ŒSpring Frameworkçš„äº‹åŠ¡åŸºç¡€ç»“æ„ä»£ç ä»…åœ¨è¿è¡Œæ—¶æœªç»æ£€æŸ¥çš„å¼‚å¸¸æƒ…å†µä¸‹æ ‡è®°å›æ»šäº‹åŠ¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒæŠ›å‡ºçš„å¼‚å¸¸æ˜¯RuntimeExceptionçš„å®ä¾‹æˆ–å­ç±»ã€‚ ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œé”™è¯¯å®ä¾‹ä¹Ÿä¼šå¯¼è‡´å›æ»šï¼‰ã€‚ä»äº‹åŠ¡æ–¹æ³•æŠ›å‡ºçš„å·²æ£€æŸ¥å¼‚å¸¸ä¸ä¼šå¯¼è‡´åœ¨é»˜è®¤é…ç½®ä¸­å›æ»šã€‚</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ä»£ç æŠ›å‡º RuntimeException çš„å®ä¾‹ã€å­ç±»æˆ–åœ¨é»˜è®¤æƒ…å†µä¸‹çš„ Error æ‰ä¼šå¯¼è‡´å›æ»šï¼Œ<code>ä½†æ˜¯ï¼Œä»äº‹åŠ¡æ–¹æ³•æŠ›å‡ºçš„å·²æ£€æŸ¥å¼‚å¸¸ä¸ä¼šå¯¼è‡´åœ¨é»˜è®¤é…ç½®ä¸­å›æ»šã€‚</code></p><p>æ‰€ä»¥ä»£ç ä¸­ <code>try catch</code> æ•è·äº†å¼‚å¸¸ï¼Œå¯¼è‡´äº†äº‹åŠ¡æ— æ³•å›æ»š(âŠ™xâŠ™)ã€‚</p><hr><h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><h4 id="æ–¹æ¡ˆä¸€"><a href="#æ–¹æ¡ˆä¸€" class="headerlink" title="æ–¹æ¡ˆä¸€"></a>æ–¹æ¡ˆä¸€</h4><p>æ—¢ç„¶ä»£ç çš„å¼‚å¸¸è¢«æ•è·åäº‹åŠ¡æ— æ³•å›æ»šï¼Œé‚£ä¹ˆå¯ä»¥æ‰‹åŠ¨æŠ›å‡º <code>RuntimeException</code> çš„å®ä¾‹æˆ–å­ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">   noticeMapper.insert(notice);</span><br><span class="line">   noticeLogMapper.insert(noticeLog);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    LOGGER.error(<span class="string">"æ•°æ®æ’å…¥å¼‚å¸¸ï¼ï¼ï¼"</span>);</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException();</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h4 id="æ–¹æ¡ˆäºŒ"><a href="#æ–¹æ¡ˆäºŒ" class="headerlink" title="æ–¹æ¡ˆäºŒ"></a>æ–¹æ¡ˆäºŒ</h4><p>æ—¢ç„¶äº‹åŠ¡æ²¡æœ‰è‡ªåŠ¨å›æ»šï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨è®¾ç½®äº‹åŠ¡çš„å›æ»šï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">   noticeMapper.insert(notice);</span><br><span class="line">   noticeLogMapper.insert(noticeLog);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    LOGGER.error(<span class="string">"æ•°æ®æ’å…¥å¼‚å¸¸ï¼ï¼ï¼"</span>);</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">    TransactionAspectSupport.currentTransactionStatus().setRollbackOnly();</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>å†æ¬¡è°ƒè¯•è¿è¡Œåï¼Œäº‹åŠ¡æ­£å¸¸å›æ»šğŸ˜Šã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;å½“å‰é…ç½®&quot;&gt;&lt;a href=&quot;#å½“å‰é…ç½®&quot; class=&quot;headerlink&quot; title=&quot;å½“å‰é…ç½®&quot;&gt;&lt;/a&gt;å½“å‰é…ç½®&lt;/h3&gt;&lt;p&gt;ç”±äºé¡¹ç›®æ˜¯ SSM æ¡†æ¶æ•´åˆè€Œæˆï¼ŒMySQL çš„äº‹åŠ¡é…ç½®å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight x
      
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="https://tryme.wang/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="MySQL" scheme="https://tryme.wang/tags/MySQL/"/>
    
      <category term="Spring" scheme="https://tryme.wang/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>Web3.js è°ƒç”¨å·²éƒ¨ç½²æ™ºèƒ½åˆçº¦çš„ function</title>
    <link href="https://tryme.wang/2019/01/ethereum-web3js/"/>
    <id>https://tryme.wang/2019/01/ethereum-web3js/</id>
    <published>2019-01-04T01:47:32.000Z</published>
    <updated>2019-01-04T01:47:32.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç®€ä»‹ä¸ç¯å¢ƒ"><a href="#ç®€ä»‹ä¸ç¯å¢ƒ" class="headerlink" title="ç®€ä»‹ä¸ç¯å¢ƒ"></a>ç®€ä»‹ä¸ç¯å¢ƒ</h2><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><blockquote><p>web3.js æ˜¯ä»¥å¤ªåŠæä¾›çš„ä¸€ä¸ª JavaScript åº“ï¼Œå®ƒå°è£…äº†ä»¥å¤ªåŠçš„ JSON RPC APIã€IPC è°ƒç”¨ï¼Œæä¾›äº†ä¸€ç³»åˆ—ä¸ä»¥å¤ªåŠåŒºå—é“¾äº¤äº’çš„å¯¹è±¡å’Œå‡½æ•°ã€‚<br>å‡ ä¹å›Šæ‹¬ JSON RPC çš„ APIï¼Œè¿˜å¯ä»¥ç¼–è¯‘å’Œéƒ¨ç½²æ™ºèƒ½åˆçº¦ä»¥åŠè°ƒç”¨æ™ºèƒ½åˆçº¦ç­‰ï¼Œå…¶ä¸­æœ€é‡è¦çš„å°±æ˜¯ä¸æ™ºèƒ½åˆçº¦äº¤äº’çš„ JS å¯¹è±¡åŠå‡½æ•°ã€‚</p></blockquote><hr><h3 id="å¼€å‘ç¯å¢ƒ"><a href="#å¼€å‘ç¯å¢ƒ" class="headerlink" title="å¼€å‘ç¯å¢ƒ"></a>å¼€å‘ç¯å¢ƒ</h3><blockquote><p>macOS æ“ä½œç³»ç»Ÿ<br>  <strong>Node.js</strong>  8.9.4<br>  npm 5.6.0</p></blockquote><hr><h2 id="è°ƒç”¨æ™ºèƒ½åˆçº¦"><a href="#è°ƒç”¨æ™ºèƒ½åˆçº¦" class="headerlink" title="è°ƒç”¨æ™ºèƒ½åˆçº¦"></a>è°ƒç”¨æ™ºèƒ½åˆçº¦</h2><p>é¦–å…ˆéœ€è¦ä½¿ç”¨ Solidity ç¼–å†™æ™ºèƒ½åˆçº¦ï¼Œæœ€ç®€å•çš„åˆçº¦å¦‚ä¸‹ï¼Œä¸ä¸åŒºå—å‘ç”Ÿè”ç³»ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^0.4.2;</span><br><span class="line"> contract hello &#123;</span><br><span class="line"> </span><br><span class="line">     function hello() public &#123;</span><br><span class="line">         </span><br><span class="line">     &#125;</span><br><span class="line"> </span><br><span class="line">     function say() constant public returns (string) &#123;</span><br><span class="line">         return &quot;Hello World!&quot;;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>æ³¨ï¼šSolidity åœ¨çº¿ç¼–è¯‘ç¯å¢ƒ <a href="https://remix.ethereum.org" target="_blank" rel="noopener">åœ°å€</a>  </p><p>ç¼–è¯‘åä¼šäº§ç”Ÿå¾ˆå¤šä¸åŒçš„ä¸œè¥¿ï¼Œéƒ¨åˆ†å¦‚ä¸‹ï¼š  </p><p> <strong>WEB3DEPLOY</strong>ï¼š<br> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> helloContract = web3.eth.contract([&#123;<span class="string">"constant"</span>:<span class="literal">true</span>,<span class="string">"inputs"</span>:[],<span class="string">"name"</span>:<span class="string">"say"</span>,<span class="string">"outputs"</span>:[&#123;<span class="string">"name"</span>:<span class="string">""</span>,<span class="string">"type"</span>:<span class="string">"string"</span>&#125;],<span class="string">"payable"</span>:<span class="literal">false</span>,<span class="string">"type"</span>:<span class="string">"function"</span>,<span class="string">"stateMutability"</span>:<span class="string">"view"</span>&#125;,&#123;<span class="string">"inputs"</span>:[],<span class="string">"payable"</span>:<span class="literal">false</span>,<span class="string">"type"</span>:<span class="string">"constructor"</span>,<span class="string">"stateMutability"</span>:<span class="string">"nonpayable"</span>&#125;]);</span><br><span class="line"><span class="keyword">var</span> hello = helloContract.new(</span><br><span class="line">   &#123;</span><br><span class="line">     <span class="keyword">from</span>: web3.eth.accounts[<span class="number">0</span>], </span><br><span class="line">     data: <span class="string">'0x6060604052341561000c57fe5b5b5b5b6101598061001e6000396000f30060606040526000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063954ab4b21461003b575bfe5b341561004357fe5b61004b6100d4565b604051808060200182810382528381815181526020019150805190602001908083836000831461009a575b80518252602083111561009a57602082019150602081019050602083039250610076565b505050905090810190601f1680156100c65780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6100dc610119565b604060405190810160405280600c81526020017f48656c6c6f20576f726c6421000000000000000000000000000000000000000081525090505b90565b6020604051908101604052806000815250905600a165627a7a72305820b88ade0e1b40d9f8ffeba3f2bc9aa2ee4a1ae17f03fc52fc568812eb5d96f5ad0029'</span>, </span><br><span class="line">     gas: <span class="string">'4700000'</span></span><br><span class="line">   &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">e, contract</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e, contract);</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> contract.address !== <span class="string">'undefined'</span>) &#123;</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">'Contract mined! address: '</span> + contract.address + <span class="string">' transactionHash: '</span> + contract.transactionHash);</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure></p><p><strong>ABI</strong>ï¼ˆåé¢ä¼šç”¨åˆ°ï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line"> &#123;</span><br><span class="line">  &quot;constant&quot;: true,</span><br><span class="line">  &quot;inputs&quot;: [],</span><br><span class="line">  &quot;name&quot;: &quot;say&quot;,</span><br><span class="line">  &quot;outputs&quot;: [</span><br><span class="line">   &#123;</span><br><span class="line">    &quot;name&quot;: &quot;&quot;,</span><br><span class="line">    &quot;type&quot;: &quot;string&quot;</span><br><span class="line">   &#125;</span><br><span class="line">  ],</span><br><span class="line">  &quot;payable&quot;: false,</span><br><span class="line">  &quot;type&quot;: &quot;function&quot;,</span><br><span class="line">  &quot;stateMutability&quot;: &quot;view&quot;</span><br><span class="line"> &#125;,</span><br><span class="line"> &#123;</span><br><span class="line">  &quot;inputs&quot;: [],</span><br><span class="line">  &quot;payable&quot;: false,</span><br><span class="line">  &quot;type&quot;: &quot;constructor&quot;,</span><br><span class="line">  &quot;stateMutability&quot;: &quot;nonpayable&quot;</span><br><span class="line"> &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ª test.jsï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥ä¾èµ–æ¨¡å—</span></span><br><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">"express"</span>)</span><br><span class="line"><span class="keyword">var</span> Web3 = <span class="built_in">require</span>(<span class="string">"web3"</span>)</span><br><span class="line"><span class="keyword">var</span> net = <span class="built_in">require</span>(<span class="string">"net"</span>)</span><br><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">"http"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> web3;</span><br><span class="line"><span class="comment">// åˆ›å»ºweb3å¯¹è±¡å¹¶è¿æ¥åˆ°ä»¥å¤ªåŠèŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> web3 !== <span class="string">'undefined'</span>) &#123;</span><br><span class="line">  web3 = <span class="keyword">new</span> Web3(web3.currentProvider);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// set the provider you want from Web3.providers</span></span><br><span class="line">  web3 = <span class="keyword">new</span> Web3(<span class="keyword">new</span> Web3.providers.HttpProvider(<span class="string">"http://192.168.53.60:8545"</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆçº¦ABI</span></span><br><span class="line"><span class="keyword">var</span> abi = [&#123;<span class="string">"constant"</span>:<span class="literal">true</span>,<span class="string">"inputs"</span>:[],<span class="string">"name"</span>:<span class="string">"say"</span>,<span class="string">"outputs"</span>:[&#123;<span class="string">"name"</span>:<span class="string">""</span>,<span class="string">"type"</span>:<span class="string">"string"</span>&#125;],<span class="string">"payable"</span>:<span class="literal">false</span>,<span class="string">"stateMutability"</span>:<span class="string">"view"</span>,<span class="string">"type"</span>:<span class="string">"function"</span>&#125;,&#123;<span class="string">"inputs"</span>:[],<span class="string">"payable"</span>:<span class="literal">false</span>,<span class="string">"stateMutability"</span>:<span class="string">"nonpayable"</span>,<span class="string">"type"</span>:<span class="string">"constructor"</span>&#125;];</span><br><span class="line"><span class="comment">// åˆçº¦åœ°å€</span></span><br><span class="line"><span class="keyword">var</span> address = <span class="string">"0xf77976c9a552f2934d3694c38fbd057ae803ef45"</span>;</span><br><span class="line"><span class="comment">// é€šè¿‡ABIå’Œåœ°å€è·å–å·²éƒ¨ç½²çš„åˆçº¦å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> helloContract = <span class="keyword">new</span> web3.eth.Contract(abi,address);</span><br><span class="line"></span><br><span class="line">http.createServer(<span class="function"><span class="keyword">function</span> (<span class="params">request, response</span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è°ƒç”¨æ™ºèƒ½åˆçº¦æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">var</span> helloResult = helloContract.methods.say().call().then(<span class="function"><span class="keyword">function</span>(<span class="params">result</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"è¿”å›å€¼:"</span> + result);</span><br><span class="line">    <span class="comment">// å‘é€ HTTP å¤´éƒ¨ </span></span><br><span class="line">    <span class="comment">// HTTP çŠ¶æ€å€¼: 200 : OK</span></span><br><span class="line">    <span class="comment">// å†…å®¹ç±»å‹: text/plain</span></span><br><span class="line">    response.writeHead(<span class="number">200</span>, &#123;<span class="string">'Content-Type'</span>: <span class="string">'text/plain'</span>&#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å‘é€å“åº”æ•°æ®</span></span><br><span class="line">    response.end(result);</span><br><span class="line">&#125;);</span><br><span class="line">    </span><br><span class="line">&#125;).listen(<span class="number">8888</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»ˆç«¯æ‰“å°å¦‚ä¸‹ä¿¡æ¯</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Server running at http://127.0.0.1:8888/'</span>);</span><br></pre></td></tr></table></figure><p>å¯åŠ¨ä¹‹å‰åº”è¯¥å…ˆåŠ è½½ test.js æ‰€ä¾èµ–çš„æ¨¡å—ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ npm install express  </span><br><span class="line">$ npm install web3  </span><br><span class="line">$ npm install http</span><br></pre></td></tr></table></figure><p>è¿è¡Œ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ node test.js</span><br></pre></td></tr></table></figure><p>ç»ˆç«¯æ‰“å°å‡ºâ€Server running at <a href="http://127.0.0.1:8888&quot;æ—¶å³å¯è®¿é—®&quot;http://127.0.0.1:8888&quot;ï¼Œç½‘é¡µä¼šè¿”å›&quot;Hello" target="_blank" rel="noopener">http://127.0.0.1:8888&quot;æ—¶å³å¯è®¿é—®&quot;http://127.0.0.1:8888&quot;ï¼Œç½‘é¡µä¼šè¿”å›&quot;Hello</a> Worldâ€ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ç®€ä»‹ä¸ç¯å¢ƒ&quot;&gt;&lt;a href=&quot;#ç®€ä»‹ä¸ç¯å¢ƒ&quot; class=&quot;headerlink&quot; title=&quot;ç®€ä»‹ä¸ç¯å¢ƒ&quot;&gt;&lt;/a&gt;ç®€ä»‹ä¸ç¯å¢ƒ&lt;/h2&gt;&lt;h3 id=&quot;ç®€ä»‹&quot;&gt;&lt;a href=&quot;#ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;ç®€ä»‹&quot;&gt;&lt;/a&gt;ç®€
      
    
    </summary>
    
      <category term="åŒºå—é“¾" scheme="https://tryme.wang/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
    
      <category term="ä»¥å¤ªåŠ" scheme="https://tryme.wang/tags/%E4%BB%A5%E5%A4%AA%E5%9D%8A/"/>
    
      <category term="Web3.js" scheme="https://tryme.wang/tags/Web3-js/"/>
    
  </entry>
  
  <entry>
    <title>å¤§ç‰ˆæœ¬æ›´æ–°ä¸Šçº¿é—®é¢˜æ±‡æ€»</title>
    <link href="https://tryme.wang/2019/01/new-version-problems/"/>
    <id>https://tryme.wang/2019/01/new-version-problems/</id>
    <published>2019-01-03T17:15:40.000Z</published>
    <updated>2019-01-04T01:47:32.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Tomcat-å®¹å™¨å¯åŠ¨é—®é¢˜"><a href="#Tomcat-å®¹å™¨å¯åŠ¨é—®é¢˜" class="headerlink" title="Tomcat å®¹å™¨å¯åŠ¨é—®é¢˜"></a>Tomcat å®¹å™¨å¯åŠ¨é—®é¢˜</h3><blockquote><h4 id="å‰æ"><a href="#å‰æ" class="headerlink" title="å‰æ"></a>å‰æ</h4><ol><li>Spring Boot ç‰ˆæœ¬ 2.0.3.RELEASE</li><li>druid-spring-boot-starter ç‰ˆæœ¬ 1.1.9</li><li>mysql-connector-java ç‰ˆæœ¬ 5.1.46</li><li>MySQL æ•°æ®åº“ç‰ˆæœ¬ 5.7</li><li>Tomcat ç‰ˆæœ¬ 7.0.67ï¼ˆæœ€ç»ˆå‡çº§äº†ç‰ˆæœ¬åˆ° Tomcat 8ï¼‰</li><li>JDK ç‰ˆæœ¬ 1.7ï¼ˆæœ€ç»ˆå‡çº§åˆ°1.8ï¼‰</li></ol></blockquote><hr><p><strong>é—®é¢˜ï¼š</strong> æµ‹è¯•ã€ç”Ÿäº§é…ç½®æ–‡ä»¶å±æ€§ä¸åŒæ­¥ï¼Œç”Ÿäº§ç¯å¢ƒå¾ˆå¤šå±æ€§æœªé…ç½®ï¼Œå¯¼è‡´é”™è¯¯æ³¨å…¥ã€‚<br><strong>è§£å†³ï¼š</strong> å°†æ‰€æœ‰æ³¨å…¥çš„ API åœ°å€åŒæ­¥ã€‚</p><hr><p><strong>é—®é¢˜ï¼š</strong> å¯åŠ¨æ—¶ Dubbo æŠ¥é”™ï¼Œæ‰¾ä¸åˆ°æœåŠ¡ã€‚</p><p><strong>è§£å†³ï¼š</strong> æä¾›è€…æ‰€åœ¨æœºå™¨ Dubbo ç«¯å£æœªå¼€æ”¾ï¼Œå¼€æ”¾å¯¹åº”ç«¯å£å³å¯ã€‚</p><hr><p><strong>é—®é¢˜ï¼š</strong> Tomcat æ— æ³•å¯åŠ¨ï¼Œæ¯æ¬¡å¯åŠ¨æŠ¥ä¸åŒçš„é”™è¯¯ã€‚</p><p><strong>è§£å†³ï¼š</strong> JDKç‰ˆæœ¬å‡çº§åˆ° 1.8â†’Tomcat ç‰ˆæœ¬å‡çº§åˆ° 7.0.92</p><hr><p><strong>é—®é¢˜ï¼š</strong> java.lang.NoClassDefFoundError: javax/el/ELManager</p><p><strong>è§£å†³ï¼š</strong><a href="https://tryme.wang/archives/201811/springboot-war-problem.html">å‚è€ƒ</a></p><hr><p><strong>é—®é¢˜ï¼š</strong></p><p>é…ç½®ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># MySQLæ•°æ®æºé…ç½®</span></span><br><span class="line"><span class="attr">  datasource:</span></span><br><span class="line"><span class="attr">    driver-class-name:</span> <span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">    druid:</span></span><br><span class="line"><span class="attr">      url:</span> <span class="string">jdbc\:mysql\://rds.xxx.com\:3306/xxx?useUnicode\=true&amp;characterEncoding\=UTF-8&amp;zeroDateTimeBehavior\=convertToNull</span></span><br><span class="line"><span class="attr">      username:</span> <span class="string">xxx</span></span><br><span class="line"><span class="attr">      password:</span> <span class="string">password</span></span><br></pre></td></tr></table></figure><p>å¼‚å¸¸ä¿¡æ¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Caused by: java.sql.SQLException: connect error, url jdbc\:mysql\:<span class="comment">//rds.xxx.com\:3306/xxx?useUnicode\=true&amp;characterEncoding\=UTF-8&amp;zeroDateTimeBehavior\=convertToNull, driverClass com.mysql.jdbc.Driver</span></span><br><span class="line">at com.alibaba.druid.pool.DruidAbstractDataSource.createPhysicalConnection(DruidAbstractDataSource.java:<span class="number">1582</span>)</span><br><span class="line">at com.alibaba.druid.pool.DruidDataSource.init(DruidDataSource.java:<span class="number">859</span>)</span><br><span class="line">at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span><br><span class="line">at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:<span class="number">62</span>)</span><br><span class="line">at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:<span class="number">43</span>)</span><br><span class="line">at java.lang.reflect.Method.invoke(Method.java:<span class="number">498</span>)</span><br><span class="line">at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:<span class="number">1833</span>)</span><br><span class="line">at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:<span class="number">1776</span>)</span><br><span class="line">at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:<span class="number">1704</span>)</span><br><span class="line">... <span class="number">116</span> more</span><br></pre></td></tr></table></figure><p><strong>è§£å†³ï¼š</strong> å¼‚å¸¸ä¿¡æ¯é‡Œéå¸¸æ˜ç¡®çš„æåŠæ˜¯æ•°æ®åº“è¿æ¥ url çš„é—®é¢˜ï¼Œåœ¨ Spring Boot  çš„ yml é…ç½®æ–‡ä»¶ä¸­ï¼Œæ ¼å¼ä¸ºï¼š<code>property: value</code> å±æ€§åç§°åŠ ã€Œ:ã€ä¹‹åæœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œé¡¹ç›®ä¹‹å‰çš„é…ç½®æ–‡ä»¶ä¸­ MySQL æ•°æ®åº“çš„è¿æ¥åœ°å€è½¬ä¹‰è¿‡ï¼Œè¿™é‡Œç›´æ¥å¤åˆ¶è¿‡æ¥ä½¿ç”¨ï¼Œæ˜¯è¡Œä¸é€šçš„ï¼Œå°†è½¬ä¹‰å­—ç¬¦ã€Œ\ã€å»æ‰å³å¯ã€‚</p><hr><h3 id="Tomcat-é‡å¯ä¹‹åå¼‚å¸¸"><a href="#Tomcat-é‡å¯ä¹‹åå¼‚å¸¸" class="headerlink" title="Tomcat é‡å¯ä¹‹åå¼‚å¸¸"></a>Tomcat é‡å¯ä¹‹åå¼‚å¸¸</h3><p><strong>é—®é¢˜ï¼š</strong></p><p>å¼‚å¸¸ä¿¡æ¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">org.apache.catalina.session.StandardManager doLoad</span><br><span class="line">SEVERE: IOException <span class="keyword">while</span> loading persisted sessions: java.io.EOFException</span><br><span class="line">java.io.EOFException</span><br><span class="line">    at java.io.ObjectInputStream$PeekInputStream.readFully(ObjectInputStream.java:<span class="number">2298</span>)</span><br><span class="line">    at java.io.ObjectInputStream$BlockDataInputStream.readShort(ObjectInputStream.java:<span class="number">2767</span>)</span><br><span class="line">    at java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:<span class="number">798</span>)</span><br><span class="line">    at java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:<span class="number">298</span>)</span><br><span class="line">   ...</span><br><span class="line"></span><br><span class="line">org.apache.catalina.session.StandardManager startInternal</span><br><span class="line">SEVERE: Exception loading sessions from persistent storage</span><br><span class="line">java.io.EOFException</span><br><span class="line">   ...</span><br></pre></td></tr></table></figure><p><strong>è§£å†³ï¼š</strong> åˆ é™¤ <code> ${catalina.home}/work/Catalina/localhost/${APP-NAME}/SESSION.ser</code> å³å¯</p><hr><p><strong>é—®é¢˜ï¼š</strong> Dubbo æŠ¥é”™</p><p>æŠ¥é”™ä¿¡æ¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2018</span>-<span class="number">12</span>-<span class="number">15</span> <span class="number">20</span>:<span class="number">26</span>:<span class="number">52</span>,<span class="number">387</span> [DubboSaveRegistryCache-thread-<span class="number">1</span>] WARN  [com.alibaba.dubbo.registry.zookeeper.ZookeeperRegistry] -  [DUBBO] Failed to save registry store file, cause: Can not lock the registry cache file /root/.dubbo/dubbo-registry-<span class="number">10.11</span>.12.13.cache, ignore and retry later, maybe multi java process use the file, please config: dubbo.registry.file=xxx.properties, dubbo version: <span class="number">2.5</span>.3, current host: <span class="number">10.20</span>.30.40</span><br><span class="line">java.io.IOException: Can not lock the registry cache file /root/.dubbo/dubbo-registry-<span class="number">10.11</span>.12.13.cache, ignore and retry later, maybe multi java process use the file, please config: dubbo.registry.file=xxx.properties</span><br><span class="line">        at com.alibaba.dubbo.registry.support.AbstractRegistry.doSaveProperties(AbstractRegistry.java:<span class="number">193</span>)</span><br><span class="line">        at com.alibaba.dubbo.registry.support.AbstractRegistry$SaveProperties.run(AbstractRegistry.java:<span class="number">150</span>)</span><br><span class="line">        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:<span class="number">1145</span>)</span><br><span class="line">        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:<span class="number">615</span>)</span><br><span class="line">        at java.lang.Thread.run(Thread.java:<span class="number">745</span>)</span><br></pre></td></tr></table></figure><p>Dubbo ä¼šä½¿ç”¨æ–‡ä»¶ç¼“å­˜æ³¨å†Œä¸­å¿ƒåœ°å€åˆ—è¡¨åŠæœåŠ¡æä¾›è€…åˆ—è¡¨ï¼Œé»˜è®¤è·¯å¾„åœ¨ <code>/${user.home}/.dubbo/dubbo-registry-10.20.30.40.cache</code>ï¼Œåº”ç”¨é‡å¯æ—¶å°†åŸºäºæ­¤æ–‡ä»¶æ¢å¤ï¼Œä¸€å°æœåŠ¡å™¨æœ‰å¤šä¸ªåº”ç”¨ä½¿ç”¨è¿™ä¸ªæ–‡ä»¶æ¢å¤æ—¶ï¼Œä¼šå‡ºç°è¿™ä¸ªè­¦å‘Šã€‚</p><p><strong>è§£å†³ï¼š</strong> å¯ä»¥åœ¨æ¯ä¸ªé¡¹ç›® Dubbo é…ç½®æ–‡ä»¶ä¸­çš„ <code><a href="dubbo:registry" target="_blank" rel="noopener">dubbo:registry</a></code> æ ‡ç­¾ä¸­çš„ file æŒ‡å®šä¸åŒçš„æ–‡ä»¶è·¯å¾„ã€‚ <a href="http://dubbo.apache.org/zh-cn/docs/user/references/xml/dubbo-registry.html" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a> <a href="https://github.com/apache/incubator-dubbo/issues/81" target="_blank" rel="noopener">å‚è€ƒåœ°å€</a></p><hr><p><strong>é—®é¢˜ï¼š</strong> Tomcat å®¹å™¨æ— æ—¥å¿—è¾“å‡º<br>logback-spring.xmlé…ç½®ï¼š<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">&lt;!-- æµ‹è¯•ç¯å¢ƒ+å¼€å‘ç¯å¢ƒ. --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">springProfile</span> <span class="attr">name</span>=<span class="string">"test,dev"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">"com.xxx.im"</span> <span class="attr">level</span>=<span class="string">"INFO"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">springProfile</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ç”Ÿäº§ç¯å¢ƒ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">springProfile</span> <span class="attr">name</span>=<span class="string">"prod"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">"com.xxx.im"</span> <span class="attr">level</span>=<span class="string">"ERROR"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">springProfile</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure></p><p><strong>è§£å†³ï¼š</strong> ç”Ÿäº§ç¯å¢ƒæ—¥å¿—è¾“å‡ºçº§åˆ«è¿‡é«˜ï¼Œ<code>INFO</code> çº§åˆ«çš„æ— æ³•è¾“å‡ºï¼Œå°†  <code>ERROR</code> æ”¹ä¸º <code>INFO</code> å³å¯ã€‚</p><hr><blockquote><p>è½¬æˆ˜åä¸ºäº‘ä¹‹åğŸ™‚</p></blockquote><h3 id="RabbitMQ-è¿æ¥"><a href="#RabbitMQ-è¿æ¥" class="headerlink" title="RabbitMQ è¿æ¥"></a>RabbitMQ è¿æ¥</h3><blockquote><p>Spring Boot ç‰ˆæœ¬ <code>2.0.3.RELEASE</code></p></blockquote><p><strong>é—®é¢˜ï¼š</strong> RabbitMQ ç›´æ¥ä½¿ç”¨ yaml é…ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line"><span class="attr">rabbitmq:</span></span><br><span class="line"><span class="attr">    host:</span> <span class="string">rabbitmq.xxx.com</span></span><br><span class="line"><span class="attr">    username:</span> <span class="string">user</span></span><br><span class="line"><span class="attr">    password:</span> <span class="string">password123456</span></span><br><span class="line"><span class="attr">    port:</span> <span class="number">5672</span></span><br></pre></td></tr></table></figure><p> é¡¹ç›®å¯åŠ¨æ—¶æŠ¥é”™ä¿¡æ¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">    ...ForgivingExceptionHandler - <span class="function">An unexpected connection driver error <span class="title">occured</span> <span class="params">(Exception message: Connection closed)</span></span></span><br><span class="line"><span class="function">...</span></span><br></pre></td></tr></table></figure><p><strong>è§£å†³ï¼š</strong> ä»å¼‚å¸¸æ—¥å¿—ä¸­å¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹åˆ°ï¼Œæ˜¯ <code>Connection closed</code>ï¼Œè§£å†³æ€è·¯å¦‚ä¸‹ï¼š</p><ol><li><p>åˆæ­¥åˆ¤æ–­å½“å‰æœºå™¨æ— æ³•è¿é€š RabbitMQ æ‰€åœ¨æœºå™¨ï¼Œä½¿ç”¨  <code>ping rabbitmq.xxx.com</code> å‘½ä»¤å¯ä»¥ ping é€š RabbitMQ æ‰€åœ¨æœºå™¨ï¼Œå¹¶ä¸”  <code>telnet rabbitmq.xxx.com 5672</code> ä¹Ÿæ˜¯å¯ä»¥è¿é€šçš„ï¼Œæ’é™¤æ­¤åŸå› ï¼›</p></li><li><p>ç¡®è®¤ <code>usernameã€password</code> å‡†ç¡®æ€§ï¼Œå‘ç° RabbitMQ æ˜¯æ–°è£…çš„ï¼Œä½¿ç”¨å‘½ä»¤æŸ¥çœ‹å…¶ç”¨æˆ·ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@rabbit ~]<span class="comment"># rabbitmqctl list_users</span></span><br><span class="line">Listing users ...</span><br><span class="line">admin   [administrator]</span><br></pre></td></tr></table></figure><p>å‘ç°å¹¶æ²¡æœ‰ <code>user</code> è¿™ä¸ªç”¨æˆ·ï¼Œåˆ›å»ºç”¨æˆ·ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@rabbit ~]<span class="comment"># rabbitmqctl add_user user password123456</span></span><br><span class="line">Creating user <span class="string">"user"</span> ...</span><br></pre></td></tr></table></figure><p>è®¾ç½®ä¸ºç®¡ç†å‘˜ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@rabbit ~]<span class="comment"># rabbitmqctl set_user_tags user administrator</span></span><br><span class="line">Setting tags <span class="keyword">for</span> user <span class="string">"user"</span> to [administrator] ...</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œä½¿ç”¨è¯¥ç”¨æˆ·ç™»å½• RabbitMQ WEB ç«¯ç®¡ç†é¡µé¢åæŸ¥çœ‹è¯¥ç”¨æˆ·ä¿¡æ¯ï¼š<br><img src="https://ws3.sinaimg.cn/large/007jb4T5ly1fyfu2m6sjbj315w0vmgou.jpg" alt="image" align="center"><br>ç‚¹å‡» <code>Set permission</code> é…ç½®æƒé™ï¼Œé‡å¯é¡¹ç›®åé—®é¢˜è§£å†³ã€‚</p></li></ol><hr><h3 id="Tomcat-é—®é¢˜"><a href="#Tomcat-é—®é¢˜" class="headerlink" title="Tomcat é—®é¢˜"></a>Tomcat é—®é¢˜</h3><p><strong>é—®é¢˜ï¼š</strong> å¯åŠ¨ Tomcat å®¹å™¨æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">org.apache.tomcat.jni.Error: <span class="number">70023</span>: This function has not been implemented on <span class="keyword">this</span> platform</span><br><span class="line">        at org.apache.tomcat.jni.SSL.initialize(Native Method)</span><br><span class="line">        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span><br></pre></td></tr></table></figure><p><strong>è§£å†³ï¼š</strong> ä¿®æ”¹ <code>$TOMCAT_HOME/conf/server.xml</code> ä¸­çš„ <code>&lt;Listener className=&quot;org.apache.catalina.core.AprLifecycleListener&quot; SSLEngine=&quot;off&quot; /&gt;</code> å³å¯è§£å†³ã€‚</p><h3 id="Tomcat-é—®é¢˜-1"><a href="#Tomcat-é—®é¢˜-1" class="headerlink" title="Tomcat é—®é¢˜"></a>Tomcat é—®é¢˜</h3><p><strong>é—®é¢˜ï¼š</strong> å¯åŠ¨ Tomcat å®¹å™¨æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">org.apache.tomcat.jni.Error: <span class="number">70023</span>: This function has not been implemented on <span class="keyword">this</span> platform</span><br><span class="line">        at org.apache.tomcat.jni.SSL.initialize(Native Method)</span><br><span class="line">        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span><br></pre></td></tr></table></figure><p><strong>è§£å†³ï¼š</strong> ä¿®æ”¹ <code>$TOMCAT_HOME/conf/server.xml</code> ä¸­çš„ <code>&lt;Listener className=&quot;org.apache.catalina.core.AprLifecycleListener&quot; SSLEngine=&quot;off&quot; /&gt;</code> å³å¯è§£å†³ã€‚</p><h3 id="çº¿ä¸Šé—®é¢˜å¤„ç†"><a href="#çº¿ä¸Šé—®é¢˜å¤„ç†" class="headerlink" title="çº¿ä¸Šé—®é¢˜å¤„ç†"></a>çº¿ä¸Šé—®é¢˜å¤„ç†</h3><p><strong>é—®é¢˜ï¼š</strong> </p><blockquote><p>MongoDB ç‰ˆæœ¬ï¼šTokuMX 2.0.2 | MongoDB 2.4</p><p>spring-data-mongodb ç‰ˆæœ¬ï¼š1.4.1.RELEASE</p><p>spring-data-commons ç‰ˆæœ¬ï¼š1.7.2.RELEASE</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">java.lang.IllegalArgumentException: You have to provide at least one property to sort by!</span><br><span class="line">        at org.springframework.data.domain.Sort.&lt;init&gt;(Sort.java:<span class="number">91</span>)</span><br><span class="line">        at org.springframework.data.domain.Sort.&lt;init&gt;(Sort.java:<span class="number">79</span>)</span><br><span class="line">    ...</span><br><span class="line">        at sun.reflect.GeneratedMethodAccessor415.invoke(Unknown Source)</span><br><span class="line">        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:<span class="number">43</span>)</span><br><span class="line">        at java.lang.reflect.Method.invoke(Method.java:<span class="number">606</span>)</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure><p><strong>è§£å†³ï¼š</strong> å¼‚å¸¸ä¿¡æ¯å¾ˆæ˜ç¡®ï¼Œæœªæä¾›æ’åºçš„å±æ€§ï¼Œæ£€æŸ¥ä»£ç ï¼Œå¼‚å¸¸ä»£ç ç‰‡æ®µå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">   <span class="meta">@Autowired</span></span><br><span class="line">   <span class="keyword">private</span> MongoTemplate mongoTemplate;</span><br><span class="line">...</span><br><span class="line">   Query query = <span class="keyword">new</span> Query();</span><br><span class="line">List&lt;String&gt; sortStrList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="keyword">if</span> (...) &#123;</span><br><span class="line">   sortStrList.add(<span class="string">"property"</span>);</span><br><span class="line">   &#125;</span><br><span class="line">query.with(<span class="keyword">new</span> Sort(Sort.Direction.DESC, sortStrList.toArray(<span class="keyword">new</span> String[sortStrList.size()])))</span><br><span class="line">   mongoTemplate.find(query, Xxx.class);</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>å¾ˆæ˜æ˜¾ï¼Œæ’åºå±æ€§é›†åˆ <code>sortStrList</code> ä¸­æœ‰å¯èƒ½æ²¡æœ‰ä»»ä½•å±æ€§ï¼Œå†æŸ¥çœ‹ <code>org.springframework.data.domain.Sort</code> ä¸­çš„æ„é€ æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Sort</span><span class="params">(Sort.Direction direction, String... properties)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>(direction, (List)(properties == <span class="keyword">null</span> ? <span class="keyword">new</span> ArrayList() : Arrays.asList(properties)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Sort</span><span class="params">(Sort.Direction direction, List&lt;String&gt; properties)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (properties != <span class="keyword">null</span> &amp;&amp; !properties.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">this</span>.orders = <span class="keyword">new</span> ArrayList(properties.size());</span><br><span class="line">        Iterator i$ = properties.iterator();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(i$.hasNext()) &#123;</span><br><span class="line">            String property = (String)i$.next();</span><br><span class="line">            <span class="keyword">this</span>.orders.add(<span class="keyword">new</span> Sort.Order(direction, property));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"You have to provide at least one property to sort by!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œ<code>sortStrList</code> å®Œå…¨æ— éœ€è½¬æ¢ä¸ºæ•°ç»„ï¼Œä½†è¿™ä¸æ˜¯ä¸»è¦åŸå› ï¼Œä»ä¸‹é¢çš„æ„é€ æ–¹æ³•ä¸­å¯ä»¥çœ‹å‡ºï¼Œä¼ å…¥çš„ List é›†åˆä¸å¯ä¸ºç©ºå¯¹è±¡å¹¶ä¸”å¿…é¡»é›†åˆå¤§å°å¿…é¡»å¤§äº 0ï¼Œæ‰€ä»¥è§£å†³æ–¹æ¡ˆå¯ä»¥æœ‰å¤šç§ï¼Œåªéœ€æ§åˆ¶ <code>sortStrList</code> é›†åˆä¸ä¸ºç©ºä¸” size å¤§äº 0ï¼Œæˆ–è€…æ ¹æ®åˆ¤æ–­æŸ¥è¯¢ä¸åŠ æ’åºæ¡ä»¶ä¹Ÿå¯ä»¥è§£å†³ã€‚</p><hr><p><strong>é—®é¢˜ï¼š</strong> </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">org.springframework.data.mongodb.UncategorizedMongoDbException: Lock not granted. Try restarting the transaction.; nested exception is com.mongodb.MongoExcep</span><br><span class="line">tion: Lock not granted. Try restarting the transaction.</span><br><span class="line">        at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:<span class="number">83</span>)</span><br><span class="line">        at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:<span class="number">1828</span>)</span><br><span class="line">        at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:<span class="number">409</span>)</span><br><span class="line">        at org.springframework.data.mongodb.core.MongoTemplate.doUpdate(MongoTemplate.java:<span class="number">995</span>)</span><br><span class="line">        at org.springframework.data.mongodb.core.MongoTemplate.updateFirst(MongoTemplate.java:<span class="number">969</span>)</span><br><span class="line">        ...</span><br><span class="line">        at sun.reflect.GeneratedMethodAccessor378.invoke(Unknown Source)</span><br><span class="line">        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:<span class="number">43</span>)</span><br><span class="line">        at java.lang.reflect.Method.invoke(Method.java:<span class="number">606</span>)</span><br><span class="line">        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:<span class="number">317</span>)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:<span class="number">183</span>)</span><br><span class="line">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:<span class="number">150</span>)</span><br><span class="line">        at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:<span class="number">80</span>)</span><br><span class="line">        ...</span><br><span class="line">        at sun.reflect.GeneratedMethodAccessor200.invoke(Unknown Source)</span><br><span class="line">        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:<span class="number">43</span>)</span><br><span class="line">        at java.lang.reflect.Method.invoke(Method.java:<span class="number">606</span>)</span><br></pre></td></tr></table></figure><p><strong>è§£å†³ï¼š</strong> æ‰‹åŠ¨é…ç½®çš„ MongoDB äº‹åŠ¡é—®é¢˜ï¼Œå°šæœªå½»åº•è§£å†³ã€‚</p><hr><p><strong>é—®é¢˜ï¼š</strong> </p><blockquote><p>Spring æ•´åˆ MongoDBé…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"mongoOptions"</span> <span class="attr">class</span>=<span class="string">"com.mongodb.MongoOptions"</span>&gt;</span></span><br><span class="line">&gt; ...</span><br><span class="line">&gt; <span class="comment">&lt;!-- è¿æ¥è¶…æ—¶æ—¶é—´(æ¯«ç§’)ï¼Œé»˜è®¤ä¸º4000 --&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"connectTimeout"</span> <span class="attr">value</span>=<span class="string">"4000"</span> /&gt;</span></span><br><span class="line">&gt; <span class="comment">&lt;!-- socketè¯»å†™æ—¶è¶…æ—¶æ—¶é—´(æ¯«ç§’)ï¼Œé»˜è®¤ä¸º0ï¼Œä¸è¶…æ—¶ --&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"socketTimeout"</span> <span class="attr">value</span>=<span class="string">"0"</span> /&gt;</span></span><br><span class="line">&gt; <span class="comment">&lt;!-- æ˜¯socketè¿æ¥åœ¨é˜²ç«å¢™ä¸Šä¿æŒæ´»åŠ¨çš„ç‰¹æ€§ï¼Œé»˜è®¤ä¸ºfalse --&gt;</span></span><br><span class="line">&gt; <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"socketKeepAlive"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">&gt;     ...</span><br><span class="line">&gt; <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">org.springframework.dao.DataAccessResourceFailureException: can<span class="string">'t say something; nested exception is com.mongodb.MongoException$Network: can'</span>t say something</span><br><span class="line">        at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:<span class="number">56</span>)</span><br><span class="line">        at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:<span class="number">1828</span>)</span><br><span class="line">        at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:<span class="number">409</span>)</span><br><span class="line">        at org.springframework.data.mongodb.core.MongoTemplate.insertDBObject(MongoTemplate.java:<span class="number">893</span>)</span><br><span class="line">        at org.springframework.data.mongodb.core.MongoTemplate.doInsert(MongoTemplate.java:<span class="number">713</span>)</span><br><span class="line">        at org.springframework.data.mongodb.core.MongoTemplate.insert(MongoTemplate.java:<span class="number">668</span>)</span><br><span class="line">        at org.springframework.data.mongodb.core.MongoTemplate.insert(MongoTemplate.java:<span class="number">659</span>)</span><br><span class="line">        at net.okdi.o2o.core.helper.ExceptionHelper.afterThrow(ExceptionHelper.java:<span class="number">71</span>)</span><br><span class="line">        at sun.reflect.GeneratedMethodAccessor438.invoke(Unknown Source)</span><br><span class="line">        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:<span class="number">43</span>)</span><br><span class="line">        at java.lang.reflect.Method.invoke(Method.java:<span class="number">606</span>)</span><br><span class="line">        ...</span><br><span class="line">        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:<span class="number">1145</span>)</span><br><span class="line">        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:<span class="number">615</span>)</span><br><span class="line">        at java.lang.Thread.run(Thread.java:<span class="number">745</span>)</span><br><span class="line">Caused by: com.mongodb.MongoException$Network: can<span class="string">'t say something</span></span><br><span class="line"><span class="string">        at com.mongodb.DBTCPConnector.say(DBTCPConnector.java:194)</span></span><br><span class="line"><span class="string">        at com.mongodb.DBTCPConnector.say(DBTCPConnector.java:155)</span></span><br><span class="line"><span class="string">        at com.mongodb.DBApiLayer$MyCollection.insert(DBApiLayer.java:249)</span></span><br><span class="line"><span class="string">        at com.mongodb.DBApiLayer$MyCollection.insert(DBApiLayer.java:205)</span></span><br><span class="line"><span class="string">        at com.mongodb.DBCollection.insert(DBCollection.java:57)</span></span><br><span class="line"><span class="string">        at com.mongodb.DBCollection.insert(DBCollection.java:100)</span></span><br><span class="line"><span class="string">        at org.springframework.data.mongodb.core.MongoTemplate$8.doInCollection(MongoTemplate.java:898)</span></span><br><span class="line"><span class="string">        at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:407)</span></span><br><span class="line"><span class="string">        ... 44 more</span></span><br><span class="line"><span class="string">Caused by: java.io.IOException: couldn'</span>t connect to [mongodb.xxx.com/<span class="number">192.168</span>.1.22:<span class="number">27017</span>] bc:java.net.SocketTimeoutException: connect timed out</span><br><span class="line">        at com.mongodb.DBPort._open(DBPort.java:<span class="number">214</span>)</span><br><span class="line">        at com.mongodb.DBPort.go(DBPort.java:<span class="number">107</span>)</span><br><span class="line">        at com.mongodb.DBPort.go(DBPort.java:<span class="number">88</span>)</span><br><span class="line">        at com.mongodb.DBPort.findOne(DBPort.java:<span class="number">143</span>)</span><br><span class="line">        at com.mongodb.DBPort.runCommand(DBPort.java:<span class="number">148</span>)</span><br><span class="line">        at com.mongodb.DBPort.checkAuth(DBPort.java:<span class="number">307</span>)</span><br><span class="line">        at com.mongodb.DBTCPConnector.say(DBTCPConnector.java:<span class="number">180</span>)</span><br><span class="line">        ... <span class="number">51</span> more</span><br></pre></td></tr></table></figure><p><strong>è§£å†³ï¼š</strong> å¼‚å¸¸æœ€åå¾ˆæ˜ç¡®çš„æç¤ºäº† <code>connect timed out</code> è¿æ¥è¶…æ—¶çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å°† <code>connectTimeout</code> è¿æ¥è¶…æ—¶å±æ€§é€‚å½“æ‰©å¤§ï¼Œå¦‚æœæ˜¯æç¤º <code>read timed out</code>ï¼ŒåŸå› æ˜¯åœ¨è¿›è¡Œæ•°æ®æ“ä½œæ—¶è¿‡é•¿æ—¶é—´æ²¡æœ‰è¿”å›ç»“æœï¼Œæ­¤æ—¶è¦ä¿®æ”¹ <code>socketTimeout</code> å±æ€§äº†ã€‚</p><p><a href="https://zyjustin9.iteye.com/blog/2017986" target="_blank" rel="noopener">å‚è€ƒæ–‡ç« </a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;Tomcat-å®¹å™¨å¯åŠ¨é—®é¢˜&quot;&gt;&lt;a href=&quot;#Tomcat-å®¹å™¨å¯åŠ¨é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;Tomcat å®¹å™¨å¯åŠ¨é—®é¢˜&quot;&gt;&lt;/a&gt;Tomcat å®¹å™¨å¯åŠ¨é—®é¢˜&lt;/h3&gt;&lt;blockquote&gt;
&lt;h4 id=&quot;å‰æ&quot;&gt;&lt;a h
      
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="https://tryme.wang/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="å·¥ä½œè®°å½•" scheme="https://tryme.wang/tags/%E5%B7%A5%E4%BD%9C%E8%AE%B0%E5%BD%95/"/>
    
  </entry>
  
  <entry>
    <title>Spring Boot war åŒ…æ–¹å¼å¯åŠ¨é—®é¢˜</title>
    <link href="https://tryme.wang/2019/01/spring-boot-war-problems/"/>
    <id>https://tryme.wang/2019/01/spring-boot-war-problems/</id>
    <published>2019-01-03T16:57:40.000Z</published>
    <updated>2019-01-04T01:47:32.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Spring Boot æ”¯æŒ jar åŒ…å’Œ war åŒ…ä¸¤ç§æ‰“åŒ…æ–¹å¼ã€‚jar åŒ…æ–¹å¼è¿è¡Œç®€å•ï¼Œå¯¹äºè½»é‡çš„é¡¹ç›®ï¼Œä»æ„é€ åˆ°éƒ¨ç½²æå¤§çš„æå‡äº†æ•ˆç‡ï¼›war åŒ…æ–¹å¼å¯¹äºå¯åŠ¨å‚æ•°ã€é›†ç¾¤é…ç½®æ¥è¯´å¯èƒ½æ›´æ–¹ä¾¿ä¸€äº›ã€‚åœ¨ä½¿ç”¨ war åŒ…æ–¹å¼çš„æ—¶å€™é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œè®°å½•ä¸‹æ¥ğŸ“ã€‚</p></blockquote><h2 id="å‰ææ¦‚è¦"><a href="#å‰ææ¦‚è¦" class="headerlink" title="å‰ææ¦‚è¦"></a>å‰ææ¦‚è¦</h2><ul><li>Spring Boot ç‰ˆæœ¬<code>2.0.3.RELEASE</code></li><li><p>æ‰“åŒ…æ–¹å¼  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- JDK1.8 ç¼–ç  UTF-8</span><br><span class="line">- ä¾èµ–åªå¼•å…¥äº†``` spring-boot-starter-webã€spring-boot-starter-test</span><br></pre></td></tr></table></figure></p></li><li><p>Tomcat ç‰ˆæœ¬ 7.0.82</p></li></ul><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>é…ç½®å¥½é¡¹ç›®åŠ Tomcat éƒ¨ç½²åå¯åŠ¨å¤±è´¥ï¼Œæœ‰è¿™ä¹ˆä¸€è¡Œå¼‚å¸¸ä¿¡æ¯ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Caused by: java.lang.NoClassDefFoundError: javax/el/ELManager</span><br></pre></td></tr></table></figure></p><h2 id="è§£å†³è·¯å¾„"><a href="#è§£å†³è·¯å¾„" class="headerlink" title="è§£å†³è·¯å¾„"></a>è§£å†³è·¯å¾„</h2><h3 id="ç¼ºå°‘-jar-åŒ…"><a href="#ç¼ºå°‘-jar-åŒ…" class="headerlink" title="ç¼ºå°‘ jar åŒ…"></a>ç¼ºå°‘ jar åŒ…</h3><p>ç¬¬ä¸€ååº”ï¼Œç¼ºå°‘ jar åŒ…ï¼Œåœ¨ pom æ–‡ä»¶å¼•å…¥ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;javax.el&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;3.0.0&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure></p><p>é‡æ–°å¯åŠ¨åé—®é¢˜ä»ç„¶å­˜åœ¨ï¼ŒåŠ å…¥ <code>&lt;scope&gt;provided&lt;/scope&gt;</code>  åä»ç„¶ä¸è¡Œï¼Œ<code>å¤±è´¥</code>ã€‚</p><h3 id="hibernate-validator-ç‰ˆæœ¬è¿‡é«˜"><a href="#hibernate-validator-ç‰ˆæœ¬è¿‡é«˜" class="headerlink" title="hibernate-validator ç‰ˆæœ¬è¿‡é«˜"></a>hibernate-validator ç‰ˆæœ¬è¿‡é«˜</h3><p>æœç´¢åæœ‰æ–‡ç« è¯´æ˜¯ <code>å½“å‰ç‰ˆæœ¬çš„ Spring Bootï¼Œä¾èµ–çš„éªŒè¯ hibernate-validator ç‰ˆæœ¬å¤ªé«˜ï¼Œå¯¼è‡´æ‰¾ä¸åˆ° ELManagerã€‚</code>æŸ¥çœ‹é¡¹ç›®ä¾èµ–æ ‘ï¼Œå‘ç°æ˜¯web ä¾èµ–ä¸­çš„<br><img src="https://wx3.sinaimg.cn/large/007jb4T5ly1fxq7hr323fj31ag0n4wj5.jpg" align="center" alt="image"><br>æŸ¥çœ‹å…¶ä»–é¡¹ç›®ä¸­åŒæ ·å†™æ³•å¹¶ä¸æŠ¥é”™ï¼Œæ’é™¤è¿™ç§åŸå› ã€‚</p><h3 id="Tomcat-ç‰ˆæœ¬"><a href="#Tomcat-ç‰ˆæœ¬" class="headerlink" title="Tomcat ç‰ˆæœ¬"></a>Tomcat ç‰ˆæœ¬</h3><p>æœ‰äººè¯´ Tomcat7 æä¾›çš„ el-api.jar ç‰ˆæœ¬æ˜¯ 2.2ï¼ŒTomcat8 çš„ç‰ˆæœ¬æ˜¯ 3.0ï¼Œæœªå°è¯•åˆ‡æ¢ Tomcatç‰ˆæœ¬ã€‚</p><h3 id="æœ€ç»ˆè§£å†³"><a href="#æœ€ç»ˆè§£å†³" class="headerlink" title="æœ€ç»ˆè§£å†³"></a>æœ€ç»ˆè§£å†³</h3><p>å°†ä¸‹è½½çš„ el-api3.0 çš„ jar åŒ…æ‹·è´åˆ° $TOMCAT_HOME/lib ä¸‹æ›¿æ¢ä¹‹å‰çš„ el-api.jar å³å¯ã€‚</p><p><code>å‚è€ƒåœ°å€ï¼š</code><a href="https://stackoverflow.com/questions/45841464/java-lang-noclassdeffounderror-javax-el-elmanager" target="_blank" rel="noopener">stackoverflow</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;Spring Boot æ”¯æŒ jar åŒ…å’Œ war åŒ…ä¸¤ç§æ‰“åŒ…æ–¹å¼ã€‚jar åŒ…æ–¹å¼è¿è¡Œç®€å•ï¼Œå¯¹äºè½»é‡çš„é¡¹ç›®ï¼Œä»æ„é€ åˆ°éƒ¨ç½²æå¤§çš„æå‡äº†æ•ˆç‡ï¼›war åŒ…æ–¹å¼å¯¹äºå¯åŠ¨å‚æ•°ã€é›†ç¾¤é…ç½®æ¥è¯´å¯èƒ½æ›´æ–¹ä¾¿ä¸€äº›ã€‚åœ¨ä½¿ç”¨ war åŒ…æ–¹å¼çš„æ—¶å€™é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œè®°å½•ä¸‹æ¥ï¿½
      
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="https://tryme.wang/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Spring Boot" scheme="https://tryme.wang/tags/Spring-Boot/"/>
    
  </entry>
  
  <entry>
    <title>Spring Boot ä½¿ç”¨ä¸­çš„å°é—®é¢˜æ€»ç»“</title>
    <link href="https://tryme.wang/2019/01/spring-boot-use-problems/"/>
    <id>https://tryme.wang/2019/01/spring-boot-use-problems/</id>
    <published>2019-01-03T15:57:40.000Z</published>
    <updated>2019-01-04T01:47:32.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Spring Boot ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜æ€»ç»“ï¼ŒæŒç»­æ›´æ–°â€¦</p></blockquote><h3 id="IDEA-ä¸­è¯»å–é…ç½®æ–‡ä»¶é—®é¢˜"><a href="#IDEA-ä¸­è¯»å–é…ç½®æ–‡ä»¶é—®é¢˜" class="headerlink" title="IDEA ä¸­è¯»å–é…ç½®æ–‡ä»¶é—®é¢˜"></a>IDEA ä¸­è¯»å–é…ç½®æ–‡ä»¶é—®é¢˜</h3><p>é—®é¢˜å¦‚å›¾ï¼š<br><img src="https://wx4.sinaimg.cn/large/007jb4T5ly1fxrefyccolj30vq06smza.jpg" align="center" alt="image"><br>è§£å†³æ–¹æ¡ˆï¼š<br>å¼•å…¥å¦‚ä¸‹ä¾èµ–<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;</span><br><span class="line">            &lt;optional&gt;true&lt;/optional&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br></pre></td></tr></table></figure></p><p>æ­¤æ—¶ä¼šå‡ºç°å¦‚ä¸‹å›¾ï¼š<br><img src="https://wx3.sinaimg.cn/large/007jb4T5ly1fxrem3cjo3j31dk06idin.jpg" align="center" alt="image"><br>å¯ä»¥ç›´æ¥å¿½ç•¥ã€‚</p><hr><h3 id="Tomcat-å®¹å™¨å¯åŠ¨è¿‡æ…¢çš„é—®é¢˜"><a href="#Tomcat-å®¹å™¨å¯åŠ¨è¿‡æ…¢çš„é—®é¢˜" class="headerlink" title="Tomcat å®¹å™¨å¯åŠ¨è¿‡æ…¢çš„é—®é¢˜"></a>Tomcat å®¹å™¨å¯åŠ¨è¿‡æ…¢çš„é—®é¢˜</h3><p>å¯åŠ¨é¡¹ç›®æ—¶ï¼Œæ˜æ˜ä¸€ä¸ªå¾ˆç®€å•çš„é¡¹ç›®ï¼Œå´å¯åŠ¨å¾ˆæ…¢ï¼ŒTomcat æ—¥å¿—ä¸­æœ‰è¿™ä¹ˆä¸€è¡Œï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WARNING: Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [20,617] milliseconds.</span><br></pre></td></tr></table></figure></p><p>å¯åŠ¨æˆåŠŸè€—æ—¶ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO: Server startup in 33239 ms</span><br></pre></td></tr></table></figure></p><p>è¿™ä¸ªè­¦å‘Šçš„æ“ä½œè€—äº†å¤§åŠçš„å¯åŠ¨æ—¶é—´ï¼ŒæŸ¥é˜… Tomcat çš„<a href="https://wiki.apache.org/tomcat/HowTo/FasterStartUp" target="_blank" rel="noopener">wiki</a>å‘ç°è¿™ä¹ˆä¸€æ®µè¯ï¼š<br><img src="https://wx1.sinaimg.cn/large/007jb4T5ly1fxtkl2jdatj31xs0iqwmv.jpg" align="center" alt="image"><br>è§£é‡Šå¾—å¾ˆæ¸…æ¥šï¼ŒTomcat å¯åŠ¨æ—¶ç†µæºçš„ç”Ÿæˆé»˜è®¤æ˜¯ JRE çš„é˜»å¡å¼ç†µæºï¼ˆ/ dev / randomï¼‰ï¼Œæ›¿æ¢ä¸ºéé˜»å¡å¼ç†µæºï¼ˆ/ dev /./ urandomï¼‰å³å¯ï¼Œä½†æ˜¯ä¼šé™ä½å®‰å…¨æ€§ï¼Œå› ä¸ºè·å¾—çš„éšæœºæ•°æ®è¾ƒå°‘ã€‚<br>ä¿®æ”¹æ–¹å¼ï¼š<br>ç›´æ¥ä¿®æ”¹ $JAVA_HOME/jre/lib/security/java.security ä¸­<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">securerandom.source=file:/dev/./urandom</span><br></pre></td></tr></table></figure></p><p>æˆ–è€…ç›´æ¥æ‰§è¡Œ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar app.jar -Djava.security.egd=file:/dev/./urandom</span><br></pre></td></tr></table></figure></p><p>ä¿®æ”¹å®Œå†å¯åŠ¨ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO: Server startup in 10847 ms</span><br></pre></td></tr></table></figure></p><p>æ•ˆæœè¿˜æ˜¯å¾ˆæ˜¾è‘—çš„ğŸ˜Šã€‚</p><hr><h3 id="é™æ€å˜é‡çš„æ³¨å…¥"><a href="#é™æ€å˜é‡çš„æ³¨å…¥" class="headerlink" title="é™æ€å˜é‡çš„æ³¨å…¥"></a>é™æ€å˜é‡çš„æ³¨å…¥</h3><p>æ—¥å¸¸å¼€å‘ä¸­ï¼Œä¸€èˆ¬å¸¸ç”¨çš„å·¥å…·ä¼šæŠ½å–åˆ°å·¥å…·ç±»ä¸­ï¼Œå·¥å…·ç±»ä¸­çš„æ–¹æ³•ä¸€èˆ¬éƒ½æ˜¯é™æ€è°ƒç”¨çš„ï¼Œæ–¹æ³•ä¸­å¯èƒ½ä¼šæ³¨å…¥å…¶ä»–æˆå‘˜å˜é‡ï¼Œç”±äºæ–¹æ³•æ˜¯ static çš„ï¼Œæ‰€ä»¥æˆå‘˜å˜é‡ä¹Ÿå¿…é¡»æ˜¯é™æ€çš„ã€‚æ­¤æ—¶ï¼Œä½¿ç”¨ @Autowired å·²ç»æ— æ³•æ³¨å…¥ï¼Œæ­¤æ—¶å°±éœ€è¦æ–°çš„æ“ä½œäº†ğŸ˜ã€‚<br>é¦–å…ˆï¼Œå°†éœ€è¦ä½¿ç”¨çš„å®šä¹‰ä¸ºé™æ€å˜é‡ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">private static RestTemplate restTemplate;</span><br></pre></td></tr></table></figure></p><p>ç„¶åç”Ÿæˆ set æ–¹æ³•å¹¶åœ¨æ–¹æ³•ä¸ŠåŠ  @Autowiredï¼ˆè¯»å–å±æ€§æ–‡ä»¶çš„è¯ä½¿ç”¨ @Valueï¼‰æ³¨è§£ï¼ˆæ³¨æ„ä¸è¦åŠ  staticï¼‰ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@Autowired</span><br><span class="line">    public void setRestTemplate(RestTemplate restTemplate) &#123;</span><br><span class="line">        AuthTokenUtil.restTemplate = restTemplate;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><p>æœ€åï¼Œç±»ä¸ŠåŠ ä¸Š @Componentæ³¨è§£å³å¯ã€‚</p><hr><h3 id="RestTemplate-çš„-GET-è¯·æ±‚çš„-Headers-è®¾ç½®"><a href="#RestTemplate-çš„-GET-è¯·æ±‚çš„-Headers-è®¾ç½®" class="headerlink" title="RestTemplate çš„ GET è¯·æ±‚çš„ Headers è®¾ç½®"></a>RestTemplate çš„ GET è¯·æ±‚çš„ Headers è®¾ç½®</h3><h4 id="RestTemplate-ä»‹ç»"><a href="#RestTemplate-ä»‹ç»" class="headerlink" title="RestTemplate ä»‹ç»"></a>RestTemplate ä»‹ç»</h4><blockquote><p><strong>Springâ€™s central class for synchronous client-side HTTP access.</strong> It simplifies communication with HTTP servers, and enforces RESTful principles. It handles HTTP connections, leaving application code to provide URLs (with possible template variables) and extract results.</p><p>Spring çš„åŒæ­¥å®¢æˆ·ç«¯ HTTP è®¿é—®çš„ä¸­å¿ƒç±»ã€‚å®ƒç®€åŒ–äº†ä¸ HTTP æœåŠ¡å™¨çš„é€šä¿¡ï¼Œå¹¶å®æ–½äº† RESTful åŸåˆ™ã€‚å®ƒå¤„ç† HTTP è¿æ¥ï¼Œä½¿åº”ç”¨ç¨‹åºä»£ç æä¾› URLï¼ˆå¸¦æœ‰å¯èƒ½çš„æ¨¡æ¿å˜é‡ï¼‰å¹¶æå–ç»“æœã€‚</p></blockquote><h4 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h4><ul><li>Spring Boot ç‰ˆæœ¬ 2.0.3.RELEASE</li><li>spring-web-5.0.7.RELEASE.jar çš„ RestTemplate</li><li>RestTemplate çš„é…ç½®</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.client.ClientHttpRequestFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.client.SimpleClientHttpRequestFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.client.RestTemplate;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> tryme.wang</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2018-11-30 10:59:48</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> RestTemplateé…ç½® </span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RestTemplateConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> RestTemplate <span class="title">restTemplate</span><span class="params">(ClientHttpRequestFactory factory)</span> </span>&#123;</span><br><span class="line">        RestTemplate restTemplate = <span class="keyword">new</span> RestTemplate(factory);</span><br><span class="line">        <span class="keyword">return</span> restTemplate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ClientHttpRequestFactory <span class="title">simpleClientHttpRequestFactory</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * é»˜è®¤æƒ…å†µä¸‹ï¼ŒRestTemplateä¾èµ–äºæ ‡å‡†JDKå·¥å…·æ¥å»ºç«‹HTTPè¿æ¥ã€‚</span></span><br><span class="line"><span class="comment">         * å¯ä»¥é€šè¿‡InterceptingHttpAccessor.setRequestFactoryï¼ˆorg.springframework.http.client.ClientHttpRequestFactoryï¼‰</span></span><br><span class="line"><span class="comment">         * å±æ€§åˆ‡æ¢åˆ°ä½¿ç”¨ä¸åŒçš„HTTPåº“ï¼Œä¾‹å¦‚Apache HttpComponentsï¼ŒNettyå’ŒOkHttpã€‚</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        SimpleClientHttpRequestFactory factory = <span class="keyword">new</span> SimpleClientHttpRequestFactory();</span><br><span class="line">        <span class="comment">// å•ä½ï¼šms</span></span><br><span class="line">        factory.setReadTimeout(<span class="number">5000</span>);</span><br><span class="line">        <span class="comment">// å•ä½ï¼šms</span></span><br><span class="line">        factory.setConnectTimeout(<span class="number">15000</span>);</span><br><span class="line">        <span class="keyword">return</span> factory;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ–¹æ¡ˆ"><a href="#æ–¹æ¡ˆ" class="headerlink" title="æ–¹æ¡ˆ"></a>æ–¹æ¡ˆ</h4><p>RestTemplate ä½¿ç”¨æ—¶å¯èƒ½ä¼šæœ‰ Headers ä¸­éœ€è¦ä¼ å…¥ token ä¹‹ç±»å‚æ•°çš„æƒ…å†µï¼Œä½¿ç”¨ POST è¯·æ±‚æ—¶ï¼ŒRestTemplate çš„ API ä¸­æœ‰æ˜æ˜¾çš„æ–¹æ³•postForEntityæˆ–postForObjectï¼š</p><p><img src="https://wx2.sinaimg.cn/large/007jb4T5ly1fy68yplwsxj31fu10qgs8.jpg" align="center" alt="image"></p><p>ç„¶è€Œ GET è¯·æ±‚å¹¶æ²¡æœ‰æ˜æ˜¾å¯ä»¥ç†è§£çš„ API ä½¿ç”¨ï¼ŒæŸ¥é˜…èµ„æ–™å‘ç°äº† exchange æ–¹æ³•å¯ä»¥æŒ‡å®š HTTP è¯·æ±‚æ–¹å¼ï¼š</p><p><img src="https://wx2.sinaimg.cn/large/007jb4T5ly1fy6979u3i3j31fo0x4n2l.jpg" align="center" alt="image"></p><p>okï¼Œå°±å®ƒäº†ï¼Œè€Œä¸”å…¶ä»–è¯·æ±‚æ–¹å¼å‡å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ¥æ‰§è¡Œ Headersã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;Spring Boot ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜æ€»ç»“ï¼ŒæŒç»­æ›´æ–°â€¦&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;IDEA-ä¸­è¯»å–é…ç½®æ–‡ä»¶é—®é¢˜&quot;&gt;&lt;a href=&quot;#IDEA-ä¸­è¯»å–é…ç½®æ–‡ä»¶é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;I
      
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="https://tryme.wang/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Spring Boot" scheme="https://tryme.wang/tags/Spring-Boot/"/>
    
  </entry>
  
  <entry>
    <title>RestTemplate è‡ªå®šä¹‰ ErrorHandler</title>
    <link href="https://tryme.wang/2019/01/resttemplate-errorhandler/"/>
    <id>https://tryme.wang/2019/01/resttemplate-errorhandler/</id>
    <published>2019-01-03T15:45:40.000Z</published>
    <updated>2019-01-04T01:47:32.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>åœ¨ä½¿ç”¨ Spring Boot çš„ RestTemplate è°ƒç”¨æ—¶ï¼Œå‘ç°è°ƒç”¨æˆåŠŸæ—¶å¾ˆå¥½ç”¨ï¼Œä½†æ˜¯æœåŠ¡å™¨è¿”å› 4xx æˆ–è€… 5xx å¼‚å¸¸æ—¶ï¼Œè¿™è´§ç›´æ¥ç»™æŠ›å‡ºæ¥äº†ï¼Œæƒ³è¦å¤„ç†å¯ä»¥è‡ªå®šä¹‰ ErrorHandlerã€‚</p></blockquote><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>å½“æœåŠ¡ç«¯è¿”å›é 200 æ—¶ï¼Œè°ƒç”¨æ–¹ç›´æ¥æŠ›å‡ºå¦‚ä¸‹å¼‚å¸¸ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">org.springframework.web.client.HttpClientErrorException: <span class="number">400</span> Bad Request</span><br><span class="line"></span><br><span class="line">at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:<span class="number">94</span>)</span><br><span class="line">at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:<span class="number">79</span>)</span><br><span class="line">at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:<span class="number">63</span>)</span><br><span class="line">at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:<span class="number">766</span>)</span><br><span class="line">at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:<span class="number">724</span>)</span><br><span class="line">at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:<span class="number">680</span>)</span><br><span class="line">at org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:<span class="number">466</span>)</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure></p><p>ä¸ºä»€ä¹ˆä¼šæŠ›å¼‚å¸¸å‘¢ï¼Œå¯ä»¥ç¿»ä¸€ä¸‹æºç ï¼š<br>RestTemplate ä¸­<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> &lt;T&gt; <span class="function">ResponseEntity&lt;T&gt; <span class="title">postForEntity</span><span class="params">(String url, @Nullable Object request, Class&lt;T&gt; responseType, Object... uriVariables)</span> <span class="keyword">throws</span> RestClientException </span>&#123;</span><br><span class="line">        RequestCallback requestCallback = <span class="keyword">this</span>.httpEntityCallback(request, responseType);</span><br><span class="line">        ResponseExtractor&lt;ResponseEntity&lt;T&gt;&gt; responseExtractor = <span class="keyword">this</span>.responseEntityExtractor(responseType);</span><br><span class="line">        <span class="keyword">return</span> (ResponseEntity)nonNull(<span class="keyword">this</span>.execute(url, HttpMethod.POST, requestCallback, responseExtractor, uriVariables));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><p>ç»§ç»­ç¿»ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Nullable</span></span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; <span class="function">T <span class="title">execute</span><span class="params">(String url, HttpMethod method, @Nullable RequestCallback requestCallback, @Nullable ResponseExtractor&lt;T&gt; responseExtractor, Object... uriVariables)</span> <span class="keyword">throws</span> RestClientException </span>&#123;</span><br><span class="line">        URI expanded = <span class="keyword">this</span>.getUriTemplateHandler().expand(url, uriVariables);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.doExecute(expanded, method, requestCallback, responseExtractor);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><p>å†å¾€ä¸‹ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Nullable</span></span><br><span class="line">    <span class="keyword">protected</span> &lt;T&gt; <span class="function">T <span class="title">doExecute</span><span class="params">(URI url, @Nullable HttpMethod method, @Nullable RequestCallback requestCallback, @Nullable ResponseExtractor&lt;T&gt; responseExtractor)</span> <span class="keyword">throws</span> RestClientException </span>&#123;</span><br><span class="line">        Assert.notNull(url, <span class="string">"URI is required"</span>);</span><br><span class="line">        Assert.notNull(method, <span class="string">"HttpMethod is required"</span>);</span><br><span class="line">        ClientHttpResponse response = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        Object var14;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            ClientHttpRequest request = <span class="keyword">this</span>.createRequest(url, method);</span><br><span class="line">            <span class="keyword">if</span> (requestCallback != <span class="keyword">null</span>) &#123;</span><br><span class="line">                requestCallback.doWithRequest(request);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            response = request.execute();</span><br><span class="line">            <span class="keyword">this</span>.handleResponse(url, method, response);</span><br><span class="line">            var14 = responseExtractor != <span class="keyword">null</span> ? responseExtractor.extractData(response) : <span class="keyword">null</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException var12) &#123;</span><br><span class="line">            String resource = url.toString();</span><br><span class="line">            String query = url.getRawQuery();</span><br><span class="line">            resource = query != <span class="keyword">null</span> ? resource.substring(<span class="number">0</span>, resource.indexOf(<span class="number">63</span>)) : resource;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> ResourceAccessException(<span class="string">"I/O error on "</span> + method.name() + <span class="string">" request for \""</span> + resource + <span class="string">"\": "</span> + var12.getMessage(), var12);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (response != <span class="keyword">null</span>) &#123;</span><br><span class="line">                response.close();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> var14;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><p>ç»§ç»­ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">handleResponse</span><span class="params">(URI url, HttpMethod method, ClientHttpResponse response)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        ResponseErrorHandler errorHandler = <span class="keyword">this</span>.getErrorHandler();</span><br><span class="line">        <span class="keyword">boolean</span> hasError = errorHandler.hasError(response);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.logger.isDebugEnabled()) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">this</span>.logger.debug(method.name() + <span class="string">" request for \""</span> + url + <span class="string">"\" resulted in "</span> + response.getRawStatusCode() + <span class="string">" ("</span> + response.getStatusText() + <span class="string">")"</span> + (hasError ? <span class="string">"; invoking error handler"</span> : <span class="string">""</span>));</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException var7) &#123;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (hasError) &#123;</span><br><span class="line">            errorHandler.handleError(url, method, response);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><p>ç»ˆäºçœ‹åˆ°äº†æƒ³è¦çš„ï¼Œå¯ä»¥çœ‹å‡º hasError ä¸º trueï¼Œå³æœ‰é”™è¯¯æ—¶ï¼Œä¼šèµ° errorHandler.handleError(url, method, response)ï¼Œæ¥ä¸‹æ¥ç»§ç»­æŸ¥çœ‹è¿™ä¸ª errorHandler çš„æºç ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ResponseErrorHandler</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">hasError</span><span class="params">(ClientHttpResponse var1)</span> <span class="keyword">throws</span> IOException</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">handleError</span><span class="params">(ClientHttpResponse var1)</span> <span class="keyword">throws</span> IOException</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">handleError</span><span class="params">(URI url, HttpMethod method, ClientHttpResponse response)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.handleError(response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™æ˜¯ä¸€ä¸ªæ¥å£ï¼Œæˆ‘ä»¬ç‚¹è¿›å®ƒçš„å®ç°ç±» DefaultResponseErrorHandler çš„ handleError()<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleError</span><span class="params">(ClientHttpResponse response)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        HttpStatus statusCode = HttpStatus.resolve(response.getRawStatusCode());</span><br><span class="line">        <span class="keyword">if</span> (statusCode == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> UnknownHttpStatusCodeException(response.getRawStatusCode(), response.getStatusText(), response.getHeaders(), <span class="keyword">this</span>.getResponseBody(response), <span class="keyword">this</span>.getCharset(response));</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.handleError(response, statusCode);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><p>ç»§ç»­å¾€ä¸‹ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">handleError</span><span class="params">(ClientHttpResponse response, HttpStatus statusCode)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span>(statusCode.series()) &#123;</span><br><span class="line">        <span class="keyword">case</span> CLIENT_ERROR:</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> HttpClientErrorException(statusCode, response.getStatusText(), response.getHeaders(), <span class="keyword">this</span>.getResponseBody(response), <span class="keyword">this</span>.getCharset(response));</span><br><span class="line">        <span class="keyword">case</span> SERVER_ERROR:</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> HttpServerErrorException(statusCode, response.getStatusText(), response.getHeaders(), <span class="keyword">this</span>.getResponseBody(response), <span class="keyword">this</span>.getCharset(response));</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> UnknownHttpStatusCodeException(statusCode.value(), response.getStatusText(), response.getHeaders(), <span class="keyword">this</span>.getResponseBody(response), <span class="keyword">this</span>.getCharset(response));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><p>å¯ç®—æ‰¾åˆ°åŸå› äº†ï¼ŒåŸæ¥åœ¨è¿™é‡ŒæŠ›å‡ºäº†ä¸€ä¸ª HttpClientErrorExceptionï¼Œæ—¢ç„¶ DefaultResponseErrorHandler å®ç°äº† ResponseErrorHandlerï¼Œè€Œä¸”ä»åå­—ä¸Šçœ‹è²Œä¼¼æ˜¯ä¸ªé»˜è®¤çš„é”™è¯¯å¤„ç†ï¼Œé‚£æˆ‘ä»¬å¯ä»¥å°è¯•è‡ªå®šä¹‰ ErrorHandler å®ç° ResponseErrorHandler æ¥å¤„ç†å¼‚å¸¸æƒ…å†µã€‚</p><h3 id="è‡ªå®šä¹‰-ErrorHandler"><a href="#è‡ªå®šä¹‰-ErrorHandler" class="headerlink" title="è‡ªå®šä¹‰ ErrorHandler"></a>è‡ªå®šä¹‰ ErrorHandler</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.http.client.ClientHttpResponse;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.client.DefaultResponseErrorHandler;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> tryme.wang</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2018-12-03 11:10</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> è¿œç¨‹è°ƒç”¨è‡ªå®šä¹‰å¼‚å¸¸Handler</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RestErrorHandler</span> <span class="keyword">extends</span> <span class="title">DefaultResponseErrorHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasError</span><span class="params">(ClientHttpResponse response)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// æ˜¯å¦æœ‰é”™ è¿”å›falseå³æ‰‹åŠ¨è®¾ç½®äº†ä¸ç®¡responseæ˜¯ä»€ä¹ˆéƒ½æ²¡æœ‰é”™</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleError</span><span class="params">(ClientHttpResponse response)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// æš‚æ—¶ç©ºç€</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ«å¿˜è®°é…ç½®è¿›å»ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.merrichat.im.common.handler.RestErrorHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.client.ClientHttpRequestFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.client.SimpleClientHttpRequestFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.client.RestTemplate;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> tryme.wang</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2018-11-30 10:59:48</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@desc</span> httpè¯·æ±‚é…ç½® ï¼ˆæ›¿ä»£httpclientï¼‰</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RestTemplateConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> RestTemplate <span class="title">restTemplate</span><span class="params">(ClientHttpRequestFactory factory)</span> </span>&#123;</span><br><span class="line">        RestTemplate restTemplate = <span class="keyword">new</span> RestTemplate(factory);</span><br><span class="line">        <span class="comment">// ä½¿ç”¨è‡ªå®šä¹‰çš„ErrorHandler</span></span><br><span class="line">        restTemplate.setErrorHandler(<span class="keyword">new</span> RestErrorHandler());</span><br><span class="line">        <span class="keyword">return</span> restTemplate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ClientHttpRequestFactory <span class="title">simpleClientHttpRequestFactory</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        SimpleClientHttpRequestFactory factory = <span class="keyword">new</span> SimpleClientHttpRequestFactory();</span><br><span class="line">        <span class="comment">// å•ä½ï¼šms</span></span><br><span class="line">        factory.setReadTimeout(<span class="number">5000</span>);</span><br><span class="line">        <span class="comment">// å•ä½ï¼šms</span></span><br><span class="line">        factory.setConnectTimeout(<span class="number">15000</span>);</span><br><span class="line">        <span class="keyword">return</span> factory;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™æ ·æ— è®ºæœåŠ¡ç«¯è¿”å›ä»€ä¹ˆçŠ¶æ€ç ï¼Œå®¢æˆ·ç«¯éƒ½ä¼šè®¤ä¸ºæ²¡é”™ï¼Œæˆ‘ä»¬å°±å¯ä»¥è·å–æƒ³è¦çš„ statusCode æˆ–è€… body è¿›è€Œæ¥å¤„ç†å„ç§ä¸šåŠ¡äº†ğŸ˜‰ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;åœ¨ä½¿ç”¨ Spring Boot çš„ RestTemplate è°ƒç”¨æ—¶ï¼Œå‘ç°è°ƒç”¨æˆåŠŸæ—¶å¾ˆå¥½ç”¨ï¼Œä½†æ˜¯æœåŠ¡å™¨è¿”å› 4xx æˆ–è€… 5xx å¼‚å¸¸æ—¶ï¼Œè¿™è´§ç›´æ¥ç»™æŠ›å‡ºæ¥äº†ï¼Œæƒ³è¦å¤„ç†å¯ä»¥è‡ªå®šä¹‰ ErrorHandlerã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3
      
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="https://tryme.wang/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Spring Boot" scheme="https://tryme.wang/tags/Spring-Boot/"/>
    
  </entry>
  
  <entry>
    <title>MySQL å­—æ®µé»˜è®¤å€¼çš„é—®é¢˜</title>
    <link href="https://tryme.wang/2019/01/mysql-column-default-value/"/>
    <id>https://tryme.wang/2019/01/mysql-column-default-value/</id>
    <published>2019-01-03T15:40:40.000Z</published>
    <updated>2019-01-04T01:47:32.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å‰æ"><a href="#å‰æ" class="headerlink" title="å‰æ"></a>å‰æ</h3><p>ä½¿ç”¨ SQL è„šæœ¬åˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œé‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼ŒSQL è„šæœ¬å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create table test</span><br><span class="line">(</span><br><span class="line">   ...</span><br><span class="line">   create_time          datetime not null default now() comment &apos;åˆ›å»ºæ—¶é—´&apos;,</span><br><span class="line">   ...</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>åœ¨ä¸ºâ€create_timeâ€œå­—æ®µè®¾ç½®é»˜è®¤å€¼ä¸ºå½“å‰æ—¶é—´æ—¶ï¼ŒSQL æ‰§è¡ŒæŠ¥äº†ä¸€ä¸ªé”™è¯¯å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[42000][1067] Invalid default value for &apos;create_time&apos;</span><br></pre></td></tr></table></figure><p>å­—æ®µé»˜è®¤å€¼æ— æ•ˆçš„åŸå› ï¼ŒæŸ¥çœ‹äº†ä¸‹å½“å‰çš„ MySQL ç‰ˆæœ¬ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select version();</span><br><span class="line">+------------+</span><br><span class="line">| version()  |</span><br><span class="line">+------------+</span><br><span class="line">| 5.5.35-log |</span><br><span class="line">+------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure><p>ç‰ˆæœ¬æ˜¯ 5.5 çš„ã€‚</p><h3 id="è§£å†³æ€è·¯"><a href="#è§£å†³æ€è·¯" class="headerlink" title="è§£å†³æ€è·¯"></a>è§£å†³æ€è·¯</h3><p>æŸ¥çœ‹äº† <a href="https://dev.mysql.com/doc/refman/5.5/en/data-type-defaults.html" target="_blank" rel="noopener">MySQL 5.5</a> çš„æ–‡æ¡£ï¼Œåœ¨ Data Type Default Values è¿™ä¸€æ®µä¸­æœ‰è¿™ä¹ˆä¸ªæè¿°ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">With one exception, the default value specified in a DEFAULT clause must be a literal constant; it cannot be a function or an expression. This means, for example, that you cannot set the default for a date column to be the value of a function such as NOW() or CURRENT_DATE. The exception is that, for a TIMESTAMP column, you can specify CURRENT_TIMESTAMP as the default. See Section 11.3.5, â€œAutomatic Initialization and Updating for TIMESTAMPâ€. </span><br><span class="line">ï¼ˆé™¤äº†ä¸€ä¸ªä¾‹å¤–ï¼ŒDEFAULTå­å¥ä¸­æŒ‡å®šçš„é»˜è®¤å€¼å¿…é¡»æ˜¯æ–‡å­—å¸¸é‡;å®ƒä¸èƒ½æ˜¯ä¸€ä¸ªåŠŸèƒ½æˆ–è¡¨è¾¾ã€‚è¿™æ„å‘³ç€ï¼Œä¾‹å¦‚ï¼Œæ‚¨ä¸èƒ½å°†æ—¥æœŸåˆ—çš„é»˜è®¤å€¼è®¾ç½®ä¸ºå‡½æ•°çš„å€¼ï¼Œä¾‹å¦‚NOWï¼ˆï¼‰æˆ–CURRENT_DATEã€‚ä¾‹å¤–æƒ…å†µæ˜¯ï¼Œå¯¹äºTIMESTAMPåˆ—ï¼Œæ‚¨å¯ä»¥å°†CURRENT_TIMESTAMPæŒ‡å®šä¸ºé»˜è®¤å€¼ã€‚è¯·å‚è§ç¬¬11.3.5èŠ‚â€œTIMESTAMPçš„è‡ªåŠ¨åˆå§‹åŒ–å’Œæ›´æ–°â€ã€‚ï¼‰</span><br></pre></td></tr></table></figure><p>åŸå› å¾ˆæ˜æ˜¾äº†ï¼ŒDEFAULT æŒ‡å®šçš„é»˜è®¤å€¼ä¸èƒ½æ˜¯ NOW() ï¼Œå¯ä»¥å°† â€create_timeâ€œå­—æ®µçš„ç±»å‹æ”¹ä¸º TIMESTAMPï¼Œå†å°†é»˜è®¤å€¼è®¾ä¸º CURRENT_TIMESTAMP æ¥ä½¿ç”¨ã€‚</p><p><strong>PSï¼š</strong>MySQL 5.6/5.7 ç‰ˆæœ¬ä¸­ï¼Œå¯¹äºé»˜è®¤å€¼çš„æè¿°æœ‰æ‰€å˜åŒ–ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">With one exception, the default value specified in a DEFAULT clause must be a literal constant; it cannot be a function or an expression. This means, for example, that you cannot set the default for a date column to be the value of a function such as NOW() or CURRENT_DATE. The exception is that, for TIMESTAMP and DATETIME columns, you can specify CURRENT_TIMESTAMP as the default. See Section 11.3.5, â€œAutomatic Initialization and Updating for TIMESTAMP and DATETIMEâ€. </span><br><span class="line">ï¼ˆé™¤äº†ä¸€ä¸ªä¾‹å¤–ï¼ŒDEFAULTå­å¥ä¸­æŒ‡å®šçš„é»˜è®¤å€¼å¿…é¡»æ˜¯æ–‡å­—å¸¸é‡;å®ƒä¸èƒ½æ˜¯ä¸€ä¸ªåŠŸèƒ½æˆ–è¡¨è¾¾ã€‚è¿™æ„å‘³ç€ï¼Œä¾‹å¦‚ï¼Œæ‚¨ä¸èƒ½å°†æ—¥æœŸåˆ—çš„é»˜è®¤å€¼è®¾ç½®ä¸ºå‡½æ•°çš„å€¼ï¼Œä¾‹å¦‚NOWï¼ˆï¼‰æˆ–CURRENT_DATEã€‚ä¾‹å¤–æƒ…å†µæ˜¯ï¼Œå¯¹äºTIMESTAMPå’ŒDATETIMEåˆ—ï¼Œæ‚¨å¯ä»¥å°†CURRENT_TIMESTAMPæŒ‡å®šä¸ºé»˜è®¤å€¼ã€‚è¯·å‚è§ç¬¬11.3.5èŠ‚â€œTIMESTAMPå’ŒDATETIMEçš„è‡ªåŠ¨åˆå§‹åŒ–å’Œæ›´æ–°â€ã€‚ï¼‰</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œåç»­ç‰ˆæœ¬ä¸­ DATETIME ç±»å‹çš„å­—æ®µä¹Ÿå¯ä»¥å°† CURRENT_TIMESTAMP è®¾ä¸ºé»˜è®¤å€¼ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;å‰æ&quot;&gt;&lt;a href=&quot;#å‰æ&quot; class=&quot;headerlink&quot; title=&quot;å‰æ&quot;&gt;&lt;/a&gt;å‰æ&lt;/h3&gt;&lt;p&gt;ä½¿ç”¨ SQL è„šæœ¬åˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œé‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼ŒSQL è„šæœ¬å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;
      
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="https://tryme.wang/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="MySQL" scheme="https://tryme.wang/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>Dubbo å‘å¸ƒçš„æœåŠ¡å’Œ AOP æ— æ³•å…±å­˜çš„é—®é¢˜</title>
    <link href="https://tryme.wang/2019/01/dubbo-service-aop-conflict/"/>
    <id>https://tryme.wang/2019/01/dubbo-service-aop-conflict/</id>
    <published>2019-01-03T15:33:40.000Z</published>
    <updated>2019-01-04T01:47:32.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Spring Boot ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜æ€»ç»“ï¼ŒæŒç»­æ›´æ–°â€¦</p></blockquote><h3 id="IDEA-ä¸­è¯»å–é…ç½®æ–‡ä»¶é—®é¢˜"><a href="#IDEA-ä¸­è¯»å–é…ç½®æ–‡ä»¶é—®é¢˜" class="headerlink" title="IDEA ä¸­è¯»å–é…ç½®æ–‡ä»¶é—®é¢˜"></a>IDEA ä¸­è¯»å–é…ç½®æ–‡ä»¶é—®é¢˜</h3><p>é—®é¢˜å¦‚å›¾ï¼š<br><img src="https://wx4.sinaimg.cn/large/007jb4T5ly1fxrefyccolj30vq06smza.jpg" align="center" alt="image"><br>è§£å†³æ–¹æ¡ˆï¼š<br>å¼•å…¥å¦‚ä¸‹ä¾èµ–<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;</span><br><span class="line">            &lt;optional&gt;true&lt;/optional&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br></pre></td></tr></table></figure></p><p>æ­¤æ—¶ä¼šå‡ºç°å¦‚ä¸‹å›¾ï¼š<br><img src="https://wx3.sinaimg.cn/large/007jb4T5ly1fxrem3cjo3j31dk06idin.jpg" align="center" alt="image"><br>å¯ä»¥ç›´æ¥å¿½ç•¥ã€‚</p><hr><h3 id="Tomcat-å®¹å™¨å¯åŠ¨è¿‡æ…¢çš„é—®é¢˜"><a href="#Tomcat-å®¹å™¨å¯åŠ¨è¿‡æ…¢çš„é—®é¢˜" class="headerlink" title="Tomcat å®¹å™¨å¯åŠ¨è¿‡æ…¢çš„é—®é¢˜"></a>Tomcat å®¹å™¨å¯åŠ¨è¿‡æ…¢çš„é—®é¢˜</h3><p>å¯åŠ¨é¡¹ç›®æ—¶ï¼Œæ˜æ˜ä¸€ä¸ªå¾ˆç®€å•çš„é¡¹ç›®ï¼Œå´å¯åŠ¨å¾ˆæ…¢ï¼ŒTomcat æ—¥å¿—ä¸­æœ‰è¿™ä¹ˆä¸€è¡Œï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WARNING: Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [20,617] milliseconds.</span><br></pre></td></tr></table></figure></p><p>å¯åŠ¨æˆåŠŸè€—æ—¶ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO: Server startup in 33239 ms</span><br></pre></td></tr></table></figure></p><p>è¿™ä¸ªè­¦å‘Šçš„æ“ä½œè€—äº†å¤§åŠçš„å¯åŠ¨æ—¶é—´ï¼ŒæŸ¥é˜… Tomcat çš„<a href="https://wiki.apache.org/tomcat/HowTo/FasterStartUp" target="_blank" rel="noopener">wiki</a>å‘ç°è¿™ä¹ˆä¸€æ®µè¯ï¼š<br><img src="https://wx1.sinaimg.cn/large/007jb4T5ly1fxtkl2jdatj31xs0iqwmv.jpg" align="center" alt="image"><br>è§£é‡Šå¾—å¾ˆæ¸…æ¥šï¼ŒTomcat å¯åŠ¨æ—¶ç†µæºçš„ç”Ÿæˆé»˜è®¤æ˜¯ JRE çš„é˜»å¡å¼ç†µæºï¼ˆ/ dev / randomï¼‰ï¼Œæ›¿æ¢ä¸ºéé˜»å¡å¼ç†µæºï¼ˆ/ dev /./ urandomï¼‰å³å¯ï¼Œä½†æ˜¯ä¼šé™ä½å®‰å…¨æ€§ï¼Œå› ä¸ºè·å¾—çš„éšæœºæ•°æ®è¾ƒå°‘ã€‚<br>ä¿®æ”¹æ–¹å¼ï¼š<br>ç›´æ¥ä¿®æ”¹ $JAVA_HOME/jre/lib/security/java.security ä¸­<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">securerandom.source=file:/dev/./urandom</span><br></pre></td></tr></table></figure></p><p>æˆ–è€…ç›´æ¥æ‰§è¡Œ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar app.jar -Djava.security.egd=file:/dev/./urandom</span><br></pre></td></tr></table></figure></p><p>ä¿®æ”¹å®Œå†å¯åŠ¨ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO: Server startup in 10847 ms</span><br></pre></td></tr></table></figure></p><p>æ•ˆæœè¿˜æ˜¯å¾ˆæ˜¾è‘—çš„ğŸ˜Šã€‚</p><hr><h3 id="é™æ€å˜é‡çš„æ³¨å…¥"><a href="#é™æ€å˜é‡çš„æ³¨å…¥" class="headerlink" title="é™æ€å˜é‡çš„æ³¨å…¥"></a>é™æ€å˜é‡çš„æ³¨å…¥</h3><p>æ—¥å¸¸å¼€å‘ä¸­ï¼Œä¸€èˆ¬å¸¸ç”¨çš„å·¥å…·ä¼šæŠ½å–åˆ°å·¥å…·ç±»ä¸­ï¼Œå·¥å…·ç±»ä¸­çš„æ–¹æ³•ä¸€èˆ¬éƒ½æ˜¯é™æ€è°ƒç”¨çš„ï¼Œæ–¹æ³•ä¸­å¯èƒ½ä¼šæ³¨å…¥å…¶ä»–æˆå‘˜å˜é‡ï¼Œç”±äºæ–¹æ³•æ˜¯ static çš„ï¼Œæ‰€ä»¥æˆå‘˜å˜é‡ä¹Ÿå¿…é¡»æ˜¯é™æ€çš„ã€‚æ­¤æ—¶ï¼Œä½¿ç”¨ @Autowired å·²ç»æ— æ³•æ³¨å…¥ï¼Œæ­¤æ—¶å°±éœ€è¦æ–°çš„æ“ä½œäº†ğŸ˜ã€‚<br>é¦–å…ˆï¼Œå°†éœ€è¦ä½¿ç”¨çš„å®šä¹‰ä¸ºé™æ€å˜é‡ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">private static RestTemplate restTemplate;</span><br></pre></td></tr></table></figure></p><p>ç„¶åç”Ÿæˆ set æ–¹æ³•å¹¶åœ¨æ–¹æ³•ä¸ŠåŠ  @Autowiredï¼ˆè¯»å–å±æ€§æ–‡ä»¶çš„è¯ä½¿ç”¨ @Valueï¼‰æ³¨è§£ï¼ˆæ³¨æ„ä¸è¦åŠ  staticï¼‰ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@Autowired</span><br><span class="line">    public void setRestTemplate(RestTemplate restTemplate) &#123;</span><br><span class="line">        AuthTokenUtil.restTemplate = restTemplate;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><p>æœ€åï¼Œç±»ä¸ŠåŠ ä¸Š @Componentæ³¨è§£å³å¯ã€‚</p><hr><h3 id="RestTemplate-çš„-GET-è¯·æ±‚çš„-Headers-è®¾ç½®"><a href="#RestTemplate-çš„-GET-è¯·æ±‚çš„-Headers-è®¾ç½®" class="headerlink" title="RestTemplate çš„ GET è¯·æ±‚çš„ Headers è®¾ç½®"></a>RestTemplate çš„ GET è¯·æ±‚çš„ Headers è®¾ç½®</h3><h4 id="RestTemplate-ä»‹ç»"><a href="#RestTemplate-ä»‹ç»" class="headerlink" title="RestTemplate ä»‹ç»"></a>RestTemplate ä»‹ç»</h4><blockquote><p><strong>Springâ€™s central class for synchronous client-side HTTP access.</strong> It simplifies communication with HTTP servers, and enforces RESTful principles. It handles HTTP connections, leaving application code to provide URLs (with possible template variables) and extract results.</p><p>Spring çš„åŒæ­¥å®¢æˆ·ç«¯ HTTP è®¿é—®çš„ä¸­å¿ƒç±»ã€‚å®ƒç®€åŒ–äº†ä¸ HTTP æœåŠ¡å™¨çš„é€šä¿¡ï¼Œå¹¶å®æ–½äº† RESTful åŸåˆ™ã€‚å®ƒå¤„ç† HTTP è¿æ¥ï¼Œä½¿åº”ç”¨ç¨‹åºä»£ç æä¾› URLï¼ˆå¸¦æœ‰å¯èƒ½çš„æ¨¡æ¿å˜é‡ï¼‰å¹¶æå–ç»“æœã€‚</p></blockquote><h4 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h4><ul><li>Spring Boot ç‰ˆæœ¬ 2.0.3.RELEASE</li><li>spring-web-5.0.7.RELEASE.jar çš„ RestTemplate</li><li>RestTemplate çš„é…ç½®</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.client.ClientHttpRequestFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.client.SimpleClientHttpRequestFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.client.RestTemplate;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> tryme.wang</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2018-11-30 10:59:48</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> RestTemplateé…ç½® </span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RestTemplateConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> RestTemplate <span class="title">restTemplate</span><span class="params">(ClientHttpRequestFactory factory)</span> </span>&#123;</span><br><span class="line">        RestTemplate restTemplate = <span class="keyword">new</span> RestTemplate(factory);</span><br><span class="line">        <span class="keyword">return</span> restTemplate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ClientHttpRequestFactory <span class="title">simpleClientHttpRequestFactory</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * é»˜è®¤æƒ…å†µä¸‹ï¼ŒRestTemplateä¾èµ–äºæ ‡å‡†JDKå·¥å…·æ¥å»ºç«‹HTTPè¿æ¥ã€‚</span></span><br><span class="line"><span class="comment">         * å¯ä»¥é€šè¿‡InterceptingHttpAccessor.setRequestFactoryï¼ˆorg.springframework.http.client.ClientHttpRequestFactoryï¼‰</span></span><br><span class="line"><span class="comment">         * å±æ€§åˆ‡æ¢åˆ°ä½¿ç”¨ä¸åŒçš„HTTPåº“ï¼Œä¾‹å¦‚Apache HttpComponentsï¼ŒNettyå’ŒOkHttpã€‚</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        SimpleClientHttpRequestFactory factory = <span class="keyword">new</span> SimpleClientHttpRequestFactory();</span><br><span class="line">        <span class="comment">// å•ä½ï¼šms</span></span><br><span class="line">        factory.setReadTimeout(<span class="number">5000</span>);</span><br><span class="line">        <span class="comment">// å•ä½ï¼šms</span></span><br><span class="line">        factory.setConnectTimeout(<span class="number">15000</span>);</span><br><span class="line">        <span class="keyword">return</span> factory;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ–¹æ¡ˆ"><a href="#æ–¹æ¡ˆ" class="headerlink" title="æ–¹æ¡ˆ"></a>æ–¹æ¡ˆ</h4><p>RestTemplate ä½¿ç”¨æ—¶å¯èƒ½ä¼šæœ‰ Headers ä¸­éœ€è¦ä¼ å…¥ token ä¹‹ç±»å‚æ•°çš„æƒ…å†µï¼Œä½¿ç”¨ POST è¯·æ±‚æ—¶ï¼ŒRestTemplate çš„ API ä¸­æœ‰æ˜æ˜¾çš„æ–¹æ³•postForEntityæˆ–postForObjectï¼š</p><p><img src="https://wx2.sinaimg.cn/large/007jb4T5ly1fy68yplwsxj31fu10qgs8.jpg" align="center" alt="image"></p><p>ç„¶è€Œ GET è¯·æ±‚å¹¶æ²¡æœ‰æ˜æ˜¾å¯ä»¥ç†è§£çš„ API ä½¿ç”¨ï¼ŒæŸ¥é˜…èµ„æ–™å‘ç°äº† exchange æ–¹æ³•å¯ä»¥æŒ‡å®š HTTP è¯·æ±‚æ–¹å¼ï¼š</p><p><img src="https://wx2.sinaimg.cn/large/007jb4T5ly1fy6979u3i3j31fo0x4n2l.jpg" align="center" alt="image"></p><p>okï¼Œå°±å®ƒäº†ï¼Œè€Œä¸”å…¶ä»–è¯·æ±‚æ–¹å¼å‡å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ¥æ‰§è¡Œ Headersã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;Spring Boot ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜æ€»ç»“ï¼ŒæŒç»­æ›´æ–°â€¦&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;IDEA-ä¸­è¯»å–é…ç½®æ–‡ä»¶é—®é¢˜&quot;&gt;&lt;a href=&quot;#IDEA-ä¸­è¯»å–é…ç½®æ–‡ä»¶é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;I
      
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="https://tryme.wang/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Spring Boot" scheme="https://tryme.wang/tags/Spring-Boot/"/>
    
      <category term="Dubbo" scheme="https://tryme.wang/tags/Dubbo/"/>
    
  </entry>
  
  <entry>
    <title>Aria2&amp;AriaNGã€OneIndex é…ç½®</title>
    <link href="https://tryme.wang/2018/11/aria2-oneindex/"/>
    <id>https://tryme.wang/2018/11/aria2-oneindex/</id>
    <published>2018-11-24T09:38:16.000Z</published>
    <updated>2019-01-04T01:47:32.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Aria2-ä»‹ç»"><a href="#Aria2-ä»‹ç»" class="headerlink" title="Aria2 ä»‹ç»"></a>Aria2 ä»‹ç»</h2><blockquote><p>aria2 is a lightweight multi-protocol &amp; multi-source command-line download utility. It supports HTTP/HTTPS, FTP, SFTP, BitTorrent and Metalink. aria2 can be manipulated via built-in JSON-RPC and XML-RPC interfaces.    (from <a href="https://aria2.github.io" target="_blank" rel="noopener">https://aria2.github.io</a>)</p></blockquote><h2 id="å®‰è£…-Aria2"><a href="#å®‰è£…-Aria2" class="headerlink" title="å®‰è£… Aria2"></a>å®‰è£… Aria2</h2><p>ä¸‹è½½è„šæœ¬å¹¶è¿è¡Œ<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/aria2.sh &amp;&amp; chmod +x aria2.sh &amp;&amp; bash aria2.sh</span><br></pre></td></tr></table></figure></p><p>è¿è¡Œè„šæœ¬åä¼šå‡ºç°ä»¥ä¸‹èœå•é€‰é¡¹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"> Aria2 ä¸€é”®å®‰è£…ç®¡ç†è„šæœ¬ [v1.1.9]</span><br><span class="line">  -- Toyo | doub.io/shell-jc4 --</span><br><span class="line">  </span><br><span class="line">  0. å‡çº§è„šæœ¬</span><br><span class="line">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><br><span class="line">  1. å®‰è£… Aria2</span><br><span class="line">  2. æ›´æ–° Aria2</span><br><span class="line">  3. å¸è½½ Aria2</span><br><span class="line">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><br><span class="line">  4. å¯åŠ¨ Aria2</span><br><span class="line">  5. åœæ­¢ Aria2</span><br><span class="line">  6. é‡å¯ Aria2</span><br><span class="line">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><br><span class="line">  7. ä¿®æ”¹ é…ç½®æ–‡ä»¶</span><br><span class="line">  8. æŸ¥çœ‹ é…ç½®ä¿¡æ¯</span><br><span class="line">  9. æŸ¥çœ‹ æ—¥å¿—ä¿¡æ¯</span><br><span class="line"> 10. é…ç½® è‡ªåŠ¨æ›´æ–° BT-TrackeræœåŠ¡å™¨</span><br><span class="line">â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</span><br><span class="line"></span><br><span class="line"> å½“å‰çŠ¶æ€: å·²å®‰è£… å¹¶ å·²å¯åŠ¨</span><br><span class="line"></span><br><span class="line"> è¯·è¾“å…¥æ•°å­— [0-10]:</span><br></pre></td></tr></table></figure></p><p>æŒ‰æç¤ºæ“ä½œå³å¯ã€‚<br>PS:<br><strong>å¯åŠ¨ï¼š</strong> /etc/init.d/aria2 start<br><strong>åœæ­¢ï¼š</strong> /etc/init.d/aria2 stop<br><strong>å½“å‰çŠ¶æ€ï¼š</strong> /etc/init.d/aria2 status<br><strong>é…ç½®æ–‡ä»¶è·¯å¾„ï¼š</strong> /root/.aria2/aria2.conf<br><strong>ä»¤ç‰Œå¯†é’¥ï¼š</strong> éšæœºç”Ÿæˆï¼Œå¯ä»¥æ›´æ”¹<br><strong>ä¸‹è½½ç›®å½•ï¼š</strong>/usr/local/caddy/www/aria2/Download<br><code>æ¥æºï¼š<a href="https://doub.io/shell-jc4/" target="_blank" rel="noopener">é€—æ¯”æ•™ç¨‹</a></code></p><hr><h2 id="å®‰è£…-AriaNG"><a href="#å®‰è£…-AriaNG" class="headerlink" title="å®‰è£… AriaNG"></a>å®‰è£… AriaNG</h2><blockquote><p>ç”±äº Aria2 æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œä¸‹è½½å·¥å…·ï¼Œæ¯æ¬¡ä½¿ç”¨æ•²å‘½ä»¤ä¸‹è½½æ–‡ä»¶ä¸æ–¹ä¾¿ï¼Œæœ‰å¤§ä½¬å¼€å‘å‡ºçš„å¼€æº WEB é¢æ¿æ¥ç®¡ç†ä¸‹è½½ä»»åŠ¡ã€‚å…¶ä¸­ä¹‹ä¸€ä¾¿æ˜¯ <a href="https://github.com/mayswind/AriaNg" target="_blank" rel="noopener">AriaNG</a>ã€‚<br>AriaNG åªæ˜¯ä¸€ä¸ª WEB ç«¯çš„ç®¡ç†é¢æ¿ï¼Œå¯ä»¥è¿œç¨‹è¿æ¥ Aria2ï¼ŒäºŒè€…å¯ä»¥åˆ†å¤„ä¸åŒæœåŠ¡å™¨ã€‚</p></blockquote><p>ç›´æ¥ä» <a href="https://github.com/mayswind/AriaNg/releases" target="_blank" rel="noopener">GitHub</a> é¡¹ç›®ä¸»é¡µä¸‹è½½è§£å‹åˆ°æœåŠ¡å™¨å³å¯ï¼Œæ­¤æ—¶å³å¯é€šè¿‡ IP æˆ–é…ç½®å¥½çš„åŸŸåè¿›è¡Œè®¿é—®ã€‚<br>å…·ä½“æ•ˆæœå¯è®¿é—® <code><a href="http://aria2.tryme.wang" target="_blank" rel="noopener">http://aria2.tryme.wang</a></code>æŸ¥çœ‹</p><hr><h2 id="å®‰è£…-OneIndex"><a href="#å®‰è£…-OneIndex" class="headerlink" title="å®‰è£… OneIndex"></a>å®‰è£… OneIndex</h2><p>å¯ä»¥ä½¿ç”¨å®å¡”é¢æ¿æ–°å»ºç½‘ç«™ï¼Œå…¨ç¨‹ WEB é¢æ¿æ“ä½œï¼Œç®€å•ç²—æš´ã€‚å®‰è£…å‚è€ƒï¼š<a href="https://bt.cn" target="_blank" rel="noopener">å®å¡”</a><br>OneIndex é¡¹ç›®ä¸»é¡µï¼š<a href="https://github.com/donwa/oneindex" target="_blank" rel="noopener">https://github.com/donwa/oneindex</a><br><img src="https://ws2.sinaimg.cn/large/007jb4T5ly1fx7n9vix1aj30me0j0t9u.jpg" align="center" alt="image"><br>ä¸‹è½½ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/donwa/oneindex.git</span><br></pre></td></tr></table></figure></p><p>ç§»åŠ¨åˆ°ç½‘ç«™æ ¹ç›®å½•åè¦åˆ†é…æƒé™ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 777 ./config &amp;&amp; chmod 777 ./cache</span><br></pre></td></tr></table></figure></p><p>æ­¤æ—¶æ ¹æ®é…ç½®çš„åŸŸåï¼Œè®¿é—® <code> <a href="http://xxx.com/?/admin" target="_blank" rel="noopener">http://xxx.com/?/admin</a></code>ï¼Œé»˜è®¤çš„å¯†ç æ˜¯  <code>oneindex</code>ï¼ŒæŒ‰ç…§æç¤ºé…ç½®å³å¯ã€‚<br>PSï¼šå¯ä»¥é…ç½® Nginx ä¼ªé™æ€å»æ‰ç®¡ç†é¡µé¢ URL ä¸­çš„â€œ?â€ï¼Œä¼ªé™æ€é…ç½®å¦‚ä¸‹ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!-e <span class="variable">$request_filename</span>) &#123;</span><br><span class="line">    rewrite / /?/ last;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><hr><h2 id="é…ç½®-Aria2-ä¸‹è½½åè‡ªåŠ¨ä¸Šä¼ "><a href="#é…ç½®-Aria2-ä¸‹è½½åè‡ªåŠ¨ä¸Šä¼ " class="headerlink" title="é…ç½® Aria2 ä¸‹è½½åè‡ªåŠ¨ä¸Šä¼ "></a>é…ç½® Aria2 ä¸‹è½½åè‡ªåŠ¨ä¸Šä¼ </h2><p>æ–°å»ºä¸€ä¸ªè„šæœ¬æ–‡ä»¶ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /root/.aria2/oneindexup.sh</span><br></pre></td></tr></table></figure></p><p>å¤åˆ¶ä»¥ä¸‹å†…å®¹ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">path=<span class="variable">$3</span> <span class="comment">#å–åŸå§‹è·¯å¾„ï¼Œæˆ‘çš„ç¯å¢ƒä¸‹å¦‚æœæ˜¯å•æ–‡ä»¶åˆ™ä¸º/data/demo.png,å¦‚æœæ˜¯æ–‡ä»¶å¤¹åˆ™è¯¥å€¼ä¸ºæ–‡ä»¶å¤¹å†…æŸä¸ªæ–‡ä»¶æ¯”å¦‚/data/a/b/c/d.jpg</span></span><br><span class="line">downloadpath=<span class="string">'/usr/local/caddy/www/aria2/Download'</span>  <span class="comment">#ä¿®æ”¹æˆAria2ä¸‹è½½æ–‡ä»¶å¤¹</span></span><br><span class="line">domain=<span class="string">'tryme.wang'</span>  <span class="comment">#ä¿®æ”¹æˆè‡ªå·±åŸŸå</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$2</span> -eq 0 ]</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">                <span class="built_in">exit</span> 0</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">true</span>; <span class="keyword">do</span>  <span class="comment">#æå–ä¸‹è½½æ–‡ä»¶æ ¹è·¯å¾„ï¼Œå¦‚æŠŠ/data/a/b/c/d.jpgå˜æˆ/data/a</span></span><br><span class="line">filepath=<span class="variable">$path</span></span><br><span class="line">path=<span class="variable">$&#123;path%/*&#125;</span>; </span><br><span class="line"><span class="keyword">if</span> [ <span class="string">"<span class="variable">$path</span>"</span> = <span class="string">"<span class="variable">$downloadpath</span>"</span> ] &amp;&amp; [ <span class="variable">$2</span> -eq 1 ]  <span class="comment">#å¦‚æœä¸‹è½½çš„æ˜¯å•ä¸ªæ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">    php /www/wwwroot/<span class="variable">$domain</span>/one.php upload:file <span class="variable">$filepath</span> /<span class="variable">$folder</span>/</span><br><span class="line">    rm -rf <span class="variable">$filepath</span></span><br><span class="line">    php /www/wwwroot/<span class="variable">$domain</span>/one.php cache:refresh</span><br><span class="line">    <span class="built_in">exit</span> 0</span><br><span class="line"><span class="keyword">elif</span> [ <span class="string">"<span class="variable">$path</span>"</span> = <span class="string">"<span class="variable">$downloadpath</span>"</span> ]</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">    php /www/wwwroot/<span class="variable">$domain</span>/one.php upload:folder <span class="variable">$filepath</span> /<span class="variable">$folder</span>/</span><br><span class="line">    rm -rf <span class="string">"<span class="variable">$filepath</span>/"</span></span><br><span class="line">    php /www/wwwroot/<span class="variable">$domain</span>/one.php cache:refresh</span><br><span class="line">    <span class="built_in">exit</span> 0</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></p><p>ç»™è„šæœ¬åˆ†é…å¯æ‰§è¡Œæƒé™ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x /root/.aria2/oneindexup.sh</span><br></pre></td></tr></table></figure></p><p>æœ€åå†™å…¥é…ç½®æ–‡ä»¶ï¼Œå³ä¸Šé¢å®‰è£… Aria2 æ—¶çš„é…ç½®æ–‡ä»¶ <code>/root/.aria2/aria2.conf</code><br>ç¼–è¾‘é…ç½®æ–‡ä»¶æˆ–è€…ç›´æ¥å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"on-download-complete=/root/.aria2/oneindexup.sh"</span> &gt;&gt;/root/.aria2/aria2.conf</span><br></pre></td></tr></table></figure></p><p><code>å‚è€ƒè‡ªï¼š<a href="https://www.moerats.com/archives/700/" target="_blank" rel="noopener">Ratâ€˜så¤§ä½¬</a></code></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Aria2-ä»‹ç»&quot;&gt;&lt;a href=&quot;#Aria2-ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;Aria2 ä»‹ç»&quot;&gt;&lt;/a&gt;Aria2 ä»‹ç»&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;aria2 is a lightweight multi-prot
      
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="https://tryme.wang/categories/%E6%8A%80%E6%9C%AF/"/>
    
      <category term="å·¥å…·" scheme="https://tryme.wang/categories/%E6%8A%80%E6%9C%AF/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="Aria2" scheme="https://tryme.wang/tags/Aria2/"/>
    
      <category term="OneIndex" scheme="https://tryme.wang/tags/OneIndex/"/>
    
  </entry>
  
  <entry>
    <title>Openfire é›†æˆå·²æœ‰æ•°æ®åº“ç”¨æˆ·</title>
    <link href="https://tryme.wang/2018/11/openfire-database/"/>
    <id>https://tryme.wang/2018/11/openfire-database/</id>
    <published>2018-11-24T09:37:15.000Z</published>
    <updated>2019-01-04T01:47:33.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Openfire å®‰è£…å®Œæˆåï¼Œåå°ä¼šé»˜è®¤åœ¨æŒ‡å®šçš„æ•°æ®åº“ä¸­ç”Ÿæˆ of* ç­‰è®¸å¤šè¡¨ï¼Œä½†æ˜¯å®é™…å¼€å‘ä¸­å¾€å¾€éœ€è¦é›†æˆå·²æœ‰çš„æ•°æ®åº“è¡¨ï¼Œå¯ä»¥é€šè¿‡æ›´æ”¹ç³»ç»Ÿå±æ€§æ¥å®ç°ï¼ˆç”¨æˆ·è®¤è¯ï¼Œä¸åŒ…å«ç¾¤ç»„ï¼‰ã€‚</p></blockquote><h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><p>é¦–å…ˆï¼Œä¸šåŠ¡ç³»ç»Ÿä¸­éœ€å­˜åœ¨ç”¨æˆ·è®¤è¯ç›¸å…³ä¿¡æ¯è¡¨ä»¥ä¾¿é›†æˆã€‚<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> im_user</span><br><span class="line">(</span><br><span class="line">member_id <span class="built_in">bigint</span> <span class="literal">null</span>,</span><br><span class="line">mobile <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="literal">null</span>,</span><br><span class="line">email <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="literal">null</span>,</span><br><span class="line">username <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="literal">null</span>,</span><br><span class="line"><span class="keyword">password</span> <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="literal">null</span>,</span><br><span class="line">create_time <span class="keyword">timestamp</span> <span class="literal">null</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure></p><h2 id="æ›´æ”¹-ofproperty-è¡¨"><a href="#æ›´æ”¹-ofproperty-è¡¨" class="headerlink" title="æ›´æ”¹ ofproperty è¡¨"></a>æ›´æ”¹ ofproperty è¡¨</h2><p>ç³»ç»Ÿé»˜è®¤éªŒè¯ç±»ï¼š<br><img src="https://wx1.sinaimg.cn/large/007jb4T5ly1fwh86yvbbyj31ie07i40l.jpg" alt="image" style="display:block;margin:0 auto;"><br>Openfire æä¾›äº† MySQL æ•°æ®åº“çš„éªŒè¯ç±»ï¼Œè·¯å¾„ä¸º org.jivesoftware.openfire.auth.JDBCAuthProviderï¼Œä»¥åŠç”¨æˆ·ç›¸å…³çš„æ“ä½œç±»org.jivesoftware.openfire.user.JDBCUserProviderï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ–°å»ºç›¸å…³å±æ€§ã€æ›´æ”¹éªŒè¯æ–¹å¼å’Œç”¨æˆ·ç›¸å…³æ“ä½œæ¥è¾¾åˆ°ä½¿ç”¨å·²æœ‰ MySQL æ•°æ®åº“è¡¨çš„ç›®çš„ã€‚</p><p>æ‰§è¡Œä»¥ä¸‹ SQL è¯­å¥æ–°å»ºç³»ç»Ÿå±æ€§ï¼ˆåŒæ ·å¯ä»¥åœ¨ç®¡ç†é¡µé¢æ“ä½œï¼‰ï¼š<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span>  <span class="keyword">into</span> <span class="string">`myopenfire`</span>.ofproperty(<span class="keyword">name</span>,propValue)<span class="keyword">values</span></span><br><span class="line">(<span class="string">'admin.authorizedJIDs'</span>,<span class="string">'admin@localhost'</span>),</span><br><span class="line">(<span class="string">'jdbcProvider.driver'</span>,<span class="string">'com.mysql.jdbc.Driver'</span>),</span><br><span class="line">(<span class="string">'jdbcProvider.connectionString'</span>,<span class="string">'jdbc:mysql://192.168.53.61:3306/myopenfire?user=test&amp;password=test&amp;rewriteBatchedStatements=true&amp;useUnicode=true&amp;characterEncoding=utf8'</span>),</span><br><span class="line">(<span class="string">'jdbcAuthProvider.passwordSQL'</span>,<span class="string">'SELECT password FROM im_user WHERE mobile=?'</span>),</span><br><span class="line">(<span class="string">'jdbcAuthProvider.passwordType'</span>,<span class="string">'plain'</span>),</span><br><span class="line">(<span class="string">'jdbcUserProvider.loadUserSQL'</span>,<span class="string">'SELECT username,email FROM im_user WHERE mobile=?'</span>),</span><br><span class="line">(<span class="string">'jdbcUserProvider.userCountSQL'</span>,<span class="string">'SELECT COUNT(*) FROM im_user'</span>),</span><br><span class="line">(<span class="string">'jdbcUserProvider.allUsersSQL'</span>,<span class="string">'SELECT username FROM im_user'</span>),</span><br><span class="line">(<span class="string">'jdbcUserProvider.usernameField'</span>,<span class="string">'username'</span>),</span><br><span class="line">(<span class="string">'jdbcUserProvider.nameField'</span>,<span class="string">'mobile'</span>),</span><br><span class="line">(<span class="string">'jdbcUserProvider.emailField'</span>,<span class="string">'email'</span>);</span><br></pre></td></tr></table></figure></p><p>å°†ç³»ç»Ÿå±æ€§æ›´æ”¹ä¸ºä»¥ä¸Šä¸¤ä¸ªç±»å³å¯ã€‚</p><blockquote><p>admin.authorizedJIDs å±æ€§å³ç®¡ç†å‘˜è´¦æˆ·åç§°ï¼Œ@ åæ˜¯åˆå§‹é…ç½®çš„åŸŸï¼Œå¿…é¡»å¸¦ä¸Šï¼Œå¹¶ä¸” im_user è¡¨ä¸­å¿…é¡»æœ‰ admin ç›¸å…³çš„éªŒè¯ä¿¡æ¯æ‰èƒ½ç™»å½•ç®¡ç†é¡µé¢ã€‚</p></blockquote><p>å‚è€ƒï¼š<a href="http://download.igniterealtime.org/openfire/docs/latest/documentation/db-integration-guide.html" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;Openfire å®‰è£…å®Œæˆåï¼Œåå°ä¼šé»˜è®¤åœ¨æŒ‡å®šçš„æ•°æ®åº“ä¸­ç”Ÿæˆ of* ç­‰è®¸å¤šè¡¨ï¼Œä½†æ˜¯å®é™…å¼€å‘ä¸­å¾€å¾€éœ€è¦é›†æˆå·²æœ‰çš„æ•°æ®åº“è¡¨ï¼Œå¯ä»¥é€šè¿‡æ›´æ”¹ç³»ç»Ÿå±æ€§æ¥å®ç°ï¼ˆç”¨æˆ·è®¤è¯ï¼Œä¸åŒ…å«ç¾¤ç»„ï¼‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;å‡†å¤‡å·¥ä½œ&quot;&gt;&lt;a h
      
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="https://tryme.wang/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="IDEA" scheme="https://tryme.wang/tags/IDEA/"/>
    
      <category term="Openfire" scheme="https://tryme.wang/tags/Openfire/"/>
    
  </entry>
  
  <entry>
    <title>IDEA å¯¼å…¥ Openfire æºç </title>
    <link href="https://tryme.wang/2018/11/import-openfire-source/"/>
    <id>https://tryme.wang/2018/11/import-openfire-source/</id>
    <published>2018-11-24T09:35:12.000Z</published>
    <updated>2019-01-04T01:47:37.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Openfire æ˜¯ä¸€ä¸ªæ˜¯ä¸€ä¸ª IMï¼ˆå³æ—¶é€šè®¯ï¼‰æœåŠ¡å™¨ï¼Œä½¿ç”¨ Java ç¼–å†™çš„ XMPP æœåŠ¡å™¨ï¼Œå¼€å‘è¿‡ç¨‹ Intellij IDEA å¯¼å…¥ Openfire æºç æ­¥éª¤æ¯”è¾ƒå¤æ‚ï¼Œè®°å½•ä¸€ä¸‹ã€‚</p></blockquote><h2 id="ä¸‹è½½æºç "><a href="#ä¸‹è½½æºç " class="headerlink" title="ä¸‹è½½æºç "></a>ä¸‹è½½æºç </h2><p>ä» GitHub é¡¹ç›®ä¸»é¡µ<a href="https://github.com/igniterealtime/Openfire" target="_blank" rel="noopener">ä¸‹è½½</a>æºç æˆ–è€…ä»å®˜ç½‘<a href="https://www.igniterealtime.org/projects/openfire/" target="_blank" rel="noopener">ä¸‹è½½</a>ã€‚</p><hr><h2 id="å¯¼å…¥åˆ°-IDEA-ä¸­"><a href="#å¯¼å…¥åˆ°-IDEA-ä¸­" class="headerlink" title="å¯¼å…¥åˆ° IDEA ä¸­"></a>å¯¼å…¥åˆ° IDEA ä¸­</h2><h3 id="é€‰æ‹©-Import-Project"><a href="#é€‰æ‹©-Import-Project" class="headerlink" title="é€‰æ‹© Import Project"></a>é€‰æ‹© Import Project</h3><p><img src="https://ws3.sinaimg.cn/large/007jb4T5ly1fwh4u917jfj30lu0keq3s.jpg" alt="image" style="display:block;margin:0 auto;"><br>ä¸€è·¯nextå³å¯å¯¼å…¥æˆåŠŸã€‚</p><h3 id="è¿›è¡Œæ„å»º"><a href="#è¿›è¡Œæ„å»º" class="headerlink" title="è¿›è¡Œæ„å»º"></a>è¿›è¡Œæ„å»º</h3><p>æ³¨æ„ï¼šç”±äºéœ€è¦ ant ç›¸å…³ jar åŒ…ï¼Œå¯ä»¥<a href="https://ant.apache.org/bindownload.cgi" target="_blank" rel="noopener">ä¸‹è½½</a>ä¹‹åï¼Œå°† ant.jar å¯¼å…¥åˆ° $JAVA_HOME/jre/lib ç›®å½•ä¸‹å³å¯ã€‚<br><img src="https://ws1.sinaimg.cn/large/007jb4T5ly1fwh59sa2qrj31j80os44v.jpg" alt="image" style="display:block;margin:0 auto;"><br>æ·»åŠ ä¹‹åè¿›è¡Œç¼–è¯‘æŠ¥é”™ï¼š<br><img src="https://ws3.sinaimg.cn/large/007jb4T5ly1fwh5amisywj31as0k0acw.jpg" style="display:block;margin:0 auto;"><br>è§£å†³ï¼šé…ç½® JDK<br><img src="https://wx2.sinaimg.cn/large/007jb4T5ly1fwh5e3ra57j31h20ligpd.jpg" alt="image" style="display:block;margin:0 auto;"></p><p>é…ç½® application<br> <img src="https://ws4.sinaimg.cn/large/007jb4T5ly1fwh5fgxstfj31t4188tdw.jpg" alt="image" style="display:block;margin:0 auto;"></p><h3 id="å¯åŠ¨åº”ç”¨"><a href="#å¯åŠ¨åº”ç”¨" class="headerlink" title="å¯åŠ¨åº”ç”¨"></a>å¯åŠ¨åº”ç”¨</h3><p>æˆåŠŸå¯åŠ¨åè¿›å…¥ <a href="http://localhost:9000" target="_blank" rel="noopener">http://localhost:9000</a> é¡µé¢æŠ¥é”™å¦‚ä¸‹ï¼š<br><img src="https://ws3.sinaimg.cn/large/007jb4T5ly1fwh5gy3gm6j31a00ziwrr.jpg" alt="image" style="display:block;margin:0 auto;"><br>è§£å†³ï¼šå°† $OPENFIRE_HOME/src/resources/jar/admin-sidebar.xmlåŠ$OPENFIRE_HOME/resources/i18n ä¸‹æ‰€æœ‰æ–‡ä»¶æ‹·è´åˆ°è¾“å‡ºç›®å½•ã€‚<br><img src="https://wx4.sinaimg.cn/large/007jb4T5ly1fwh5me9vf7j317m0i0acs.jpg" alt="image" style="display:block;margin:0 auto;"><br><img src="https://ws1.sinaimg.cn/large/007jb4T5ly1fwh5mreoutj30yq0k4q6b.jpg" alt="image" style="display:block;margin:0 auto;"><br>è¾“å‡ºç›®å½•ï¼š<br><img src="https://ws1.sinaimg.cn/large/007jb4T5ly1fwh5namvjsj319w0k2q72.jpg" alt="image" style="display:block;margin:0 auto;"><br>å†æ¬¡å¯åŠ¨å³å¯è¿›å…¥åˆå§‹åŒ–é…ç½®é¡µé¢ã€‚</p><h3 id="ç®¡ç†é¡µé¢é…ç½®"><a href="#ç®¡ç†é¡µé¢é…ç½®" class="headerlink" title="ç®¡ç†é¡µé¢é…ç½®"></a>ç®¡ç†é¡µé¢é…ç½®</h3><p>æ ¹æ®æç¤ºé…ç½®å³å¯ã€‚<br><img src="https://ws4.sinaimg.cn/large/007jb4T5ly1fwh729eol1j31y00yuwj2.jpg" alt="image" style="display:block;margin:0 auto;"><br><img src="https://wx2.sinaimg.cn/large/007jb4T5ly1fwh72p0gioj318c0l0whe.jpg" alt="image" style="display:block;margin:0 auto;"><br><img src="https://ws4.sinaimg.cn/large/007jb4T5ly1fwh73l1dxmj31hc0p443e.jpg" alt="image" style="display:block;margin:0 auto;"><br><img src="https://wx4.sinaimg.cn/large/007jb4T5ly1fwh73xkewoj31w20hiade.jpg" alt="image" style="display:block;margin:0 auto;"></p><p>è‡³æ­¤ï¼ŒIDEA å¯¼å…¥ Openfire æºç å®Œæˆï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;Openfire æ˜¯ä¸€ä¸ªæ˜¯ä¸€ä¸ª IMï¼ˆå³æ—¶é€šè®¯ï¼‰æœåŠ¡å™¨ï¼Œä½¿ç”¨ Java ç¼–å†™çš„ XMPP æœåŠ¡å™¨ï¼Œå¼€å‘è¿‡ç¨‹ Intellij IDEA å¯¼å…¥ Openfire æºç æ­¥éª¤æ¯”è¾ƒå¤æ‚ï¼Œè®°å½•ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;ä¸‹è½½æº
      
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="https://tryme.wang/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="IDEA" scheme="https://tryme.wang/tags/IDEA/"/>
    
      <category term="Openfire" scheme="https://tryme.wang/tags/Openfire/"/>
    
  </entry>
  
  <entry>
    <title>å®‰è£… RSS æœåŠ¡ Tiny Tiny RSS</title>
    <link href="https://tryme.wang/2018/11/install-ttrss/"/>
    <id>https://tryme.wang/2018/11/install-ttrss/</id>
    <published>2018-11-24T09:33:42.000Z</published>
    <updated>2019-01-04T01:47:42.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>RSS å·²ç»é€æ¸æ²¡è½ï¼Œè¢«å¦‚ä»Šå¤§æ•°æ®ä¿¡æ¯æµï¼Œæ¨èç®—æ³•æ‰€å–ä»£ã€‚å¦‚ä»Šè™½ç„¶ç”¨çš„äººæ¯”è¾ƒå°‘ï¼Œä½†æ˜¯å¥½åœ¨æ²¡é‚£ä¹ˆå¤šçƒ¦äººçš„â€œä¸“å±å¹¿å‘Šâ€åŠå®£ç§°â€œåƒäººåƒé¢â€çš„ğŸŒ¶ğŸ”ç®—æ³•æ¨èã€‚è™½ç„¶æœ‰å¾ˆå¤š RSS æä¾›å•†ï¼Œä¾‹å¦‚ Feedlyã€Inoreaderç­‰ï¼Œä¹Ÿå„æœ‰å…è´¹çš„æ–¹æ¡ˆï¼Œä½†æ˜¯å¥½çš„æœåŠ¡ç»ˆç©¶æ˜¯èµ°å‘äº†ä»˜è´¹æ—¶ä»£ã€‚æœ¬æ–‡ä¸»è¦ä»‹ç» Docker ä¸‹å®‰è£… Tiny Tiny RSS çš„æ–¹æ³•åŠå¼€å¯ HTTPS æ”¯æŒï¼ŒDocker å¯ä»¥ç†è§£ä¸ºä¸€ç§å®¿ä¸»æœºä¸Šçš„å®Œå…¨éš”ç¦»çš„å®¹å™¨ï¼Œå®‰è£…å¸è½½å®¹å™¨å†…çš„ä¸œè¥¿å®Œå…¨ä¸å½±å“å®¿ä¸»æœºã€‚</p></blockquote><h2 id="å¼€å§‹å®‰è£…"><a href="#å¼€å§‹å®‰è£…" class="headerlink" title="å¼€å§‹å®‰è£…"></a>å¼€å§‹å®‰è£…</h2><h3 id="å®‰è£…-Docker-ç¯å¢ƒ"><a href="#å®‰è£…-Docker-ç¯å¢ƒ" class="headerlink" title="å®‰è£… Docker ç¯å¢ƒ"></a>å®‰è£… Docker ç¯å¢ƒ</h3><p>æ‰§è¡Œå‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl https://get.docker.io/ | sh</span><br></pre></td></tr></table></figure></p><p>å¦‚æœä¸»æœºä½äºå›½å†…ï¼Œå¯ä»¥åˆ‡æ¢ä¸ºå›½å†…é•œåƒå®‰è£…è„šæœ¬ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl -sSL https://get.daocloud.io/docker | sh</span><br></pre></td></tr></table></figure></p><h3 id="å¼€å§‹éƒ¨ç½²"><a href="#å¼€å§‹éƒ¨ç½²" class="headerlink" title="å¼€å§‹éƒ¨ç½²"></a>å¼€å§‹éƒ¨ç½²</h3><p>å‚è€ƒ <a href="https://github.com/HenryQW/docker-ttrss-plugins" target="_blank" rel="noopener">HenryQW</a> çš„æ–¹æ³•é€šè¿‡ docker-compose éƒ¨ç½²ï¼Œéœ€è¦å®‰è£… docker-compose å‘½ä»¤ï¼Œä¸€æ­¥æ­¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ yum -y install epel-release</span><br><span class="line">$ yum -y install python-pip</span><br><span class="line">$ pip install docker-compose</span><br></pre></td></tr></table></figure></p><p>docker-compose.yml å†…å®¹ï¼š<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">"3"</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="string">database.postgres:</span></span><br><span class="line"><span class="attr">    image:</span> <span class="string">sameersbn/postgresql:latest</span></span><br><span class="line"><span class="attr">    container_name:</span> <span class="string">postgres</span></span><br><span class="line"><span class="attr">    environment:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">PG_PASSWORD=tt-rss</span> <span class="comment"># please change the password</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">DB_EXTENSION=pg_trgm</span></span><br><span class="line"><span class="attr">    restart:</span> <span class="string">always</span></span><br><span class="line"><span class="attr">  rss:</span></span><br><span class="line"><span class="attr">    image:</span> <span class="string">wangqiru/ttrss:latest</span></span><br><span class="line"><span class="attr">    container_name:</span> <span class="string">ttrss</span></span><br><span class="line"><span class="attr">    ports:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="number">181</span><span class="string">:80</span></span><br><span class="line"><span class="attr">    environment:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">SELF_URL_PATH=https://rss.tryme.wang/</span> <span class="comment"># please change to your own domain, keep https there and no port for https support later</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">DB_HOST=database.postgres</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">DB_PORT=5432</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">DB_NAME=ttrss</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">DB_USER=postgres</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">DB_PASS=tt-rss</span> <span class="comment"># please change the password</span></span><br><span class="line"><span class="attr">    stdin_open:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    tty:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    restart:</span> <span class="string">always</span></span><br><span class="line"><span class="attr">    command:</span> <span class="string">sh</span> <span class="bullet">-c</span> <span class="string">'sh /wait-for database.postgres:5432 -- php /configure-db.php &amp;&amp; exec s6-svscan /etc/s6/'</span></span><br></pre></td></tr></table></figure></p><p>åœ¨ docker-compose.yml ç›®å½•ä¸‹æ‰§è¡Œï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker-compose up -d</span><br></pre></td></tr></table></figure></p><p>ç­‰å¾…éƒ¨ç½²å®Œæˆã€‚</p><h3 id="Nginx-HTTPS-æ”¯æŒ"><a href="#Nginx-HTTPS-æ”¯æŒ" class="headerlink" title="Nginx HTTPS æ”¯æŒ"></a>Nginx HTTPS æ”¯æŒ</h3><p>æ·»åŠ  Nginx yum èµ„æºåº“ï¼›<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rpm -Uvh http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm</span><br></pre></td></tr></table></figure></p><p>ä½¿ç”¨ yum å‘½ä»¤å®‰è£… Nginxï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install -y nginx</span><br></pre></td></tr></table></figure></p><p>å¯åŠ¨ Nginxï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ service nginx start</span><br></pre></td></tr></table></figure></p><p>è¿™æ—¶è®¿é—®å³å¯çœ‹åˆ°â€œWelcome to Nginxâ€æ¬¢è¿é¡µã€‚</p><blockquote><p>ä½¿ç”¨ <a href="https://letsencrypt.org/" target="_blank" rel="noopener">Letâ€™sEncrypt</a> æä¾›çš„å…è´¹ HTTPS è¯ä¹¦<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ wget https://dl.eff.org/certbot-auto</span><br><span class="line">$ chmod a+x ./certbot-auto</span><br><span class="line">$ certbot-auto</span><br></pre></td></tr></table></figure></p></blockquote><p>æ ¹æ®æç¤ºç”Ÿæˆå³å¯ã€‚<br>ç¼–è¾‘/etc/nginx/conf.d/ttrss.confï¼ˆæ²¡æœ‰çš„è¯æ‰‹åŠ¨åˆ›å»ºï¼‰ï¼Œä¿å­˜å¦‚ä¸‹å†…å®¹ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">upstream ttrssdev &#123;</span><br><span class="line">  server 127.0.0.1:181;</span><br><span class="line">&#125;</span><br><span class="line">server &#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    server_name rss.tryme.wang;</span><br><span class="line">    <span class="comment">#return 301 https://rss.tryme.wang$request_uri;</span></span><br><span class="line">    rewrite ^(.*)$ https://<span class="variable">$host</span><span class="variable">$1</span> permanent;</span><br><span class="line">&#125;</span><br><span class="line">server &#123;</span><br><span class="line">    listen 443 ssl;</span><br><span class="line">    gzip on;</span><br><span class="line">    server_name rss.tryme.wang;</span><br><span class="line">    ssl_certificate /etc/letsencrypt/live/rss.tryme.wang/fullchain.pem;</span><br><span class="line">    ssl_certificate_key /etc/letsencrypt/live/rss.tryme.wang/privkey.pem;</span><br><span class="line">    access_log /var/<span class="built_in">log</span>/nginx/ttrssdev_access.log combined;</span><br><span class="line">    error_log /var/<span class="built_in">log</span>/nginx/ttrssdev_error.log;</span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_redirect off;</span><br><span class="line">        proxy_pass http://ttrssdev;</span><br><span class="line">        proxy_set_header Host <span class="variable">$http_host</span>;</span><br><span class="line">        proxy_set_header X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">        proxy_set_header X-Forwarded-Ssl on;</span><br><span class="line">        proxy_set_header X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">        proxy_set_header X-Forwarded-Proto <span class="variable">$scheme</span>;</span><br><span class="line">        proxy_set_header X-Frame-Options SAMEORIGIN;</span><br><span class="line">        client_max_body_size 100m;</span><br><span class="line">        client_body_buffer_size 128k;</span><br><span class="line">        proxy_buffer_size 4k;</span><br><span class="line">        proxy_buffers 4 32k;</span><br><span class="line">        proxy_busy_buffers_size 64k;</span><br><span class="line">        proxy_temp_file_write_size 64k;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p>ç¡®ä¿/etc/nginx/nginx.confä¸»é…ç½®æ–‡ä»¶httpå—é‡Œæœ‰â€œinclude /etc/nginx/conf.d/*.conf;â€<br>éªŒè¯å¹¶æ›´æ–° Nginx é…ç½®<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ nginx -t</span><br><span class="line">$ nginx -s reload</span><br></pre></td></tr></table></figure></p></blockquote><p>è¿™æ˜¯ç›´æ¥è®¿é—® <a href="https://rss.tryme.wang" target="_blank" rel="noopener">https://rss.tryme.wang</a> å³å¯çœ‹åˆ°ç™»å½•é¡µé¢ï¼Œé»˜è®¤ç”¨æˆ·å adminï¼Œå¯†ç  passwordï¼Œå»ºè®®ç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç ï¼</p><h3 id="å¯èƒ½å‡ºç°çš„é—®é¢˜"><a href="#å¯èƒ½å‡ºç°çš„é—®é¢˜" class="headerlink" title="å¯èƒ½å‡ºç°çš„é—®é¢˜"></a>å¯èƒ½å‡ºç°çš„é—®é¢˜</h3><p>GCP çš„æœºå™¨ç›´æ¥è®¿é—®åŸŸåçš„æ—¶å€™ Nginx çš„é”™è¯¯æ—¥å¿—å¯èƒ½ä¼šå‡ºç°ä¸‹é¢é—®é¢˜ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*33 connect() to 127.0.0.1:181 failed (13: Permission denied) while connecting to upstream</span><br></pre></td></tr></table></figure></p><blockquote><p>è§£å†³æ–¹æ¡ˆå‚è€ƒ <a href="https://my.oschina.net/zk875/blog/823710" target="_blank" rel="noopener">åœ°å€</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;RSS å·²ç»é€æ¸æ²¡è½ï¼Œè¢«å¦‚ä»Šå¤§æ•°æ®ä¿¡æ¯æµï¼Œæ¨èç®—æ³•æ‰€å–ä»£ã€‚å¦‚ä»Šè™½ç„¶ç”¨çš„äººæ¯”è¾ƒå°‘ï¼Œä½†æ˜¯å¥½åœ¨æ²¡é‚£ä¹ˆå¤šçƒ¦äººçš„â€œä¸“å±å¹¿å‘Šâ€åŠå®£ç§°â€œåƒäººåƒé¢â€çš„ğŸŒ¶ğŸ”ç®—æ³•æ¨èã€‚è™½ç„¶æœ‰å¾ˆå¤š RSS æä¾›å•†ï¼Œä¾‹å¦‚ Feedlyã€Inoreaderç­‰ï¼Œä¹Ÿå„æœ‰å…è´¹çš„æ–¹æ¡ˆï¼Œä½†æ˜¯å¥½çš„
      
    
    </summary>
    
      <category term="å·¥å…·" scheme="https://tryme.wang/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="RSS" scheme="https://tryme.wang/tags/RSS/"/>
    
  </entry>
  
  <entry>
    <title>Typecho åŠ å¯†æ–‡ç« æ˜¾ç¤ºæ ‡é¢˜</title>
    <link href="https://tryme.wang/2018/11/typecho-encrypt-show-title/"/>
    <id>https://tryme.wang/2018/11/typecho-encrypt-show-title/</id>
    <published>2018-11-24T09:31:37.000Z</published>
    <updated>2019-01-04T01:47:32.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Typecho çš„æ–‡ç« å¯ä»¥åŠ å¯†ï¼Œä½†æ˜¯åŠ å¯†çš„æ–‡ç« æ ‡é¢˜é»˜è®¤æ˜¾ç¤ºçš„æ˜¯â€œæ­¤å†…å®¹è¢«å¯†ç ä¿æŠ¤â€ï¼Œä»€ä¹ˆæ–‡ç« éƒ½ä¸çŸ¥é“ğŸ˜¶ï¼Œä¸è¿‡è¿˜å¥½å¯ä»¥æ›´æ”¹é…ç½®ã€‚ </p></blockquote><h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>åœ¨ $SITE_HOME/var/Widget/Abstract/Contents.php æ–‡ä»¶çš„å¦‚å›¾ä½ç½®ï¼š <img src="https://ws3.sinaimg.cn/large/007jb4T5ly1fxyd2v50mpj31c40ekwh4.jpg" align="center" alt="image"></p><p>å°† <code>$value[â€˜titleâ€™] = _t(â€˜æ­¤å†…å®¹è¢«å¯†ç ä¿æŠ¤â€™)</code> æ³¨é‡Šæ‰å³å¯ï¼Œå½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹ä¸Šé¢çš„ <code>è¯·è¾“å…¥å¯†ç ä»¥è®¿é—®</code> å’Œ <code>æäº¤</code> ä¸ºè‡ªå®šä¹‰å†…å®¹ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;Typecho çš„æ–‡ç« å¯ä»¥åŠ å¯†ï¼Œä½†æ˜¯åŠ å¯†çš„æ–‡ç« æ ‡é¢˜é»˜è®¤æ˜¾ç¤ºçš„æ˜¯â€œæ­¤å†…å®¹è¢«å¯†ç ä¿æŠ¤â€ï¼Œä»€ä¹ˆæ–‡ç« éƒ½ä¸çŸ¥é“ğŸ˜¶ï¼Œä¸è¿‡è¿˜å¥½å¯ä»¥æ›´æ”¹é…ç½®ã€‚ &lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;è§£å†³æ–¹æ¡ˆ&quot;&gt;&lt;a href=&quot;#è§£å†³æ–¹æ¡ˆ&quot; class=&quot;hea
      
    
    </summary>
    
      <category term="å·¥å…·" scheme="https://tryme.wang/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="Typecho" scheme="https://tryme.wang/tags/Typecho/"/>
    
  </entry>
  
  <entry>
    <title>Typecho æ–‡ç« æ”¯æŒ emoji</title>
    <link href="https://tryme.wang/2018/11/typecho-support-emoji/"/>
    <id>https://tryme.wang/2018/11/typecho-support-emoji/</id>
    <published>2018-11-24T09:31:37.000Z</published>
    <updated>2019-01-04T01:47:32.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>åœ¨ MySQL æ•°æ®åº“ä¸­ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„ utf-8 æ ¼å¼ç¼–ç æœ€å¤šæ”¯æŒ 3 ä¸ªå­—èŠ‚ï¼Œè€Œ emoji è¡¨æƒ…æ˜¯ 4 ä¸ªå­—èŠ‚çš„ç¬¦å·ï¼Œæ‰€ä»¥ emoji è¡¨æƒ…çš„é•¿åº¦å°±è¶…å‡ºäº†æˆ‘ä»¬å¸¸ç”¨ utf-8 çš„å­—ç¬¦é›†èŒƒå›´è€Œæ— æ³•å­˜å‚¨ã€‚ä» MySQL5.5 å¼€å§‹ï¼Œå¯ä»¥æ›´æ”¹æ•°æ®åº“å’Œæ•°æ®è¡¨çš„ç¼–ç ä¸º utf8mb4 ä½¿å…¶æ”¯æŒå­˜å‚¨ emojiï¼Œutf8mb4 å…¼å®¹ utf8ï¼Œä¸”æ¯” utf8 èƒ½è¡¨ç¤ºæ›´å¤šçš„å­—ç¬¦ï¼Œæ˜¯ utf8 å­—ç¬¦é›†çš„è¶…é›†ã€‚<br>ä¿®æ”¹ä¹‹å‰ä¸€å®šè¦å¤‡ä»½æ•°æ®ï¼ä¿®æ”¹ä¹‹å‰ä¸€å®šè¦å¤‡ä»½æ•°æ®ï¼ä¿®æ”¹ä¹‹å‰ä¸€å®šè¦å¤‡ä»½æ•°æ®ï¼</p></blockquote><h4 id="1-æ›´æ”¹æ•°æ®åº“çš„æ’åºè§„åˆ™"><a href="#1-æ›´æ”¹æ•°æ®åº“çš„æ’åºè§„åˆ™" class="headerlink" title="1. æ›´æ”¹æ•°æ®åº“çš„æ’åºè§„åˆ™"></a>1. æ›´æ”¹æ•°æ®åº“çš„æ’åºè§„åˆ™</h4><p><img src="https://wx3.sinaimg.cn/large/007jb4T5ly1fvfzrk6j8ij31yq10fain.jpg" alt="order-rule"></p><h4 id="2-ç‚¹å‡»-SQL-æŒ‰é’®ï¼Œæ‰§è¡Œä»¥ä¸‹-SQL-è¯­å¥-å°†-Typecho-ä¿®æ”¹ä¸ºè‡ªå·±å¯¹åº”çš„å‰ç¼€"><a href="#2-ç‚¹å‡»-SQL-æŒ‰é’®ï¼Œæ‰§è¡Œä»¥ä¸‹-SQL-è¯­å¥-å°†-Typecho-ä¿®æ”¹ä¸ºè‡ªå·±å¯¹åº”çš„å‰ç¼€" class="headerlink" title="2. ç‚¹å‡» SQL æŒ‰é’®ï¼Œæ‰§è¡Œä»¥ä¸‹ SQL è¯­å¥(å°† Typecho ä¿®æ”¹ä¸ºè‡ªå·±å¯¹åº”çš„å‰ç¼€)"></a>2. ç‚¹å‡» SQL æŒ‰é’®ï¼Œæ‰§è¡Œä»¥ä¸‹ SQL è¯­å¥(å°† Typecho ä¿®æ”¹ä¸ºè‡ªå·±å¯¹åº”çš„å‰ç¼€)</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> typecho_comments <span class="keyword">convert</span> <span class="keyword">to</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8mb4 <span class="keyword">collate</span> utf8mb4_unicode_ci;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> typecho_contents <span class="keyword">convert</span> <span class="keyword">to</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8mb4 <span class="keyword">collate</span> utf8mb4_unicode_ci;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> typecho_fields <span class="keyword">convert</span> <span class="keyword">to</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8mb4 <span class="keyword">collate</span> utf8mb4_unicode_ci;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> typecho_metas <span class="keyword">convert</span> <span class="keyword">to</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8mb4 <span class="keyword">collate</span> utf8mb4_unicode_ci;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> typecho_options <span class="keyword">convert</span> <span class="keyword">to</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8mb4 <span class="keyword">collate</span> utf8mb4_unicode_ci;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> typecho_relationships <span class="keyword">convert</span> <span class="keyword">to</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8mb4 <span class="keyword">collate</span> utf8mb4_unicode_ci;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> typecho_users <span class="keyword">convert</span> <span class="keyword">to</span> <span class="built_in">character</span> <span class="keyword">set</span> utf8mb4 <span class="keyword">collate</span> utf8mb4_unicode_ci;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å®Œä¹‹åï¼š<br><img src="https://ws4.sinaimg.cn/large/007jb4T5ly1fvg105ehbxj31ec0mo11c.jpg" alt="after-modified"></p><h4 id="3-ç¼–è¾‘ç½‘ç«™æ ¹ç›®å½•çš„-config-inc-php-æ–‡ä»¶ï¼Œæ–‡ä»¶æœ«å°¾"><a href="#3-ç¼–è¾‘ç½‘ç«™æ ¹ç›®å½•çš„-config-inc-php-æ–‡ä»¶ï¼Œæ–‡ä»¶æœ«å°¾" class="headerlink" title="3. ç¼–è¾‘ç½‘ç«™æ ¹ç›®å½•çš„ config.inc.php æ–‡ä»¶ï¼Œæ–‡ä»¶æœ«å°¾"></a>3. ç¼–è¾‘ç½‘ç«™æ ¹ç›®å½•çš„ config.inc.php æ–‡ä»¶ï¼Œæ–‡ä»¶æœ«å°¾</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** å®šä¹‰æ•°æ®åº“å‚æ•° */</span></span><br><span class="line">$db = <span class="keyword">new</span> Typecho_Db(<span class="string">'Pdo_Mysql'</span>, <span class="string">'typecho_'</span>);</span><br><span class="line">$db-&gt;addServer(<span class="keyword">array</span> (</span><br><span class="line">  <span class="string">'host'</span> =&gt; <span class="string">'localhost'</span>,</span><br><span class="line">  <span class="string">'user'</span> =&gt; <span class="string">'username'</span>,</span><br><span class="line">  <span class="string">'password'</span> =&gt; <span class="string">'password'</span>,</span><br><span class="line">  <span class="string">'charset'</span> =&gt; <span class="string">'utf8mb4'</span>,<span class="comment">// å°†utf-8ä¿®æ”¹ä¸ºutf8mb4</span></span><br><span class="line">  <span class="string">'port'</span> =&gt; <span class="string">'3306'</span>,</span><br><span class="line">  <span class="string">'database'</span> =&gt; <span class="string">'database-name'</span>,</span><br><span class="line">), Typecho_Db::READ | Typecho_Db::WRITE);</span><br><span class="line">Typecho_Db::set($db);</span><br></pre></td></tr></table></figure><p>æŒ‰ç…§ä»¥ä¸Šæ­¥éª¤ä¿®æ”¹å®Œä¹‹åï¼Œæ–‡ç« å³å¯æ”¯æŒ emoji è¡¨æƒ…ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;åœ¨ MySQL æ•°æ®åº“ä¸­ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„ utf-8 æ ¼å¼ç¼–ç æœ€å¤šæ”¯æŒ 3 ä¸ªå­—èŠ‚ï¼Œè€Œ emoji è¡¨æƒ…æ˜¯ 4 ä¸ªå­—èŠ‚çš„ç¬¦å·ï¼Œæ‰€ä»¥ emoji è¡¨æƒ…çš„é•¿åº¦å°±è¶…å‡ºäº†æˆ‘ä»¬å¸¸ç”¨ utf-8 çš„å­—ç¬¦é›†èŒƒå›´è€Œæ— æ³•å­˜å‚¨ã€‚ä» MySQL5.5 å¼€å§‹ï¼Œå¯ä»¥æ›´æ”¹æ•°æ®åº“å’Œ
      
    
    </summary>
    
      <category term="å·¥å…·" scheme="https://tryme.wang/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="Typecho" scheme="https://tryme.wang/tags/Typecho/"/>
    
  </entry>
  
  <entry>
    <title>Spring Boot2.X æ‹¦æˆªå™¨é…ç½®</title>
    <link href="https://tryme.wang/2018/07/springboot-interceptor/"/>
    <id>https://tryme.wang/2018/07/springboot-interceptor/</id>
    <published>2018-07-09T07:49:41.000Z</published>
    <updated>2018-07-09T07:49:47.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Spring Boot2.0 ä¹‹åçš„æ‹¦æˆªå™¨é…ç½®å’Œä¹‹å‰ä¸å¤ªä¸€æ ·ï¼Œä½†æ˜¯æ®Šé€”åŒå½’ï¼Œç‰¹æ­¤æ€»ç»“ä¸€ä¸‹ğŸ˜</p></blockquote><h3 id="Spring-Boot2-0-ä¹‹å‰"><a href="#Spring-Boot2-0-ä¹‹å‰" class="headerlink" title="Spring Boot2.0 ä¹‹å‰"></a>Spring Boot2.0 ä¹‹å‰</h3><p>Spring Boot2.0 ä¹‹å‰çš„æ‹¦æˆªå™¨é…ç½®å¦‚ä¸‹ï¼š<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InterceptorConfigurerAdapter</span> <span class="keyword">extends</span> <span class="title">WebMvcConfigurerAdapter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function">RestRequestValidatorInterceptor <span class="title">restRequestValidatorInterceptor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> RestRequestValidatorInterceptor();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> </span>&#123;</span><br><span class="line">        registry.addInterceptor(restRequestValidatorInterceptor()).addPathPatterns(<span class="string">"/**"</span>)</span><br><span class="line">                .excludePathPatterns(<span class="string">"/push/test"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†æ˜¯åœ¨ Spring Boot2.0 æˆ–æ›´é«˜ç‰ˆæœ¬ä¸­ï¼ŒWebMvcConfigurerAdapter ç±»å·²ç» deprecatedï¼š<br><img src="https://wx4.sinaimg.cn/large/007jb4T5ly1fxh2tu0galj312s05qwfe.jpg" align="center" alt="image"><br>è™½ç„¶è¿‡æœŸï¼Œä½†æ˜¯å¯ä»¥çœ‹åˆ° WebMvcConfigurerAdapter å®ç°äº† WebMvcConfigurer æ¥å£ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥è‡ªå®šä¹‰ç±»å®ç° WebMvcConfigurer æ¥å£ï¼Œå…¶ä»–ä¸å˜ã€‚</p><h3 id="Spring-Boot2-0-ä¹‹å"><a href="#Spring-Boot2-0-ä¹‹å" class="headerlink" title="Spring Boot2.0 ä¹‹å"></a>Spring Boot2.0 ä¹‹å</h3><p>åªéœ€è¦å°†ä¹‹å‰ç»§æ‰¿çš„ WebMvcConfigurerAdapter ç±»æ”¹ä¸ºå®ç° WebMvcConfigurer æ¥å£ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InterceptorConfigurerAdapter</span> <span class="keyword">implements</span> <span class="title">WebMvcConfigurer</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function">RestRequestValidatorInterceptor <span class="title">restRequestValidatorInterceptor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> RestRequestValidatorInterceptor();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> </span>&#123;</span><br><span class="line">        registry.addInterceptor(restRequestValidatorInterceptor()).addPathPatterns(<span class="string">"/**"</span>)</span><br><span class="line">                .excludePathPatterns(<span class="string">"/push/test"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;Spring Boot2.0 ä¹‹åçš„æ‹¦æˆªå™¨é…ç½®å’Œä¹‹å‰ä¸å¤ªä¸€æ ·ï¼Œä½†æ˜¯æ®Šé€”åŒå½’ï¼Œç‰¹æ­¤æ€»ç»“ä¸€ä¸‹ğŸ˜&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;Spring-Boot2-0-ä¹‹å‰&quot;&gt;&lt;a href=&quot;#Spring-Boot2-0-ä¹‹å‰&quot; cla
      
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="https://tryme.wang/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Spring Boot" scheme="https://tryme.wang/tags/Spring-Boot/"/>
    
  </entry>
  
  <entry>
    <title>æ–‡ä»¶ MD5ã€SHA1ã€SHA256 æ ¡éªŒ</title>
    <link href="https://tryme.wang/2018/05/file-verify/"/>
    <id>https://tryme.wang/2018/05/file-verify/</id>
    <published>2018-05-05T15:58:53.000Z</published>
    <updated>2019-01-04T01:47:32.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ç½‘ä¸Šä¸‹è½½å¾ˆå¤šæ–‡ä»¶ï¼Œéƒ½ä¼šæä¾› MD5 æˆ–è€… SHA256 æ ¡éªŒï¼Œé˜²æ­¢æ–‡ä»¶å†…å®¹è¢«ç¯¡æ”¹ï¼Œæ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°åï¼Œ</p></blockquote><p>æˆ‘ä»¬å¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œæ ¡éªŒã€‚</p><hr><h4 id="Windows-ç¯å¢ƒä¸‹"><a href="#Windows-ç¯å¢ƒä¸‹" class="headerlink" title="Windows ç¯å¢ƒä¸‹"></a>Windows ç¯å¢ƒä¸‹</h4><p>åœ¨ Windows æ“ä½œç³»ç»Ÿç¯å¢ƒä¸‹ï¼Œè®¡ç®—è¿™å‡ ä¸ªå¸¸ç”¨çš„æ ¡éªŒå€¼éœ€è¦ä¸‹è½½ä¸€æ¬¾è½¯ä»¶</p><p>[MD5 &amp; SHA Checksum Utility</p><p>](<a href="https://raylin.wordpress.com/downloads/md5-sha-1-checksum-utility/)ï¼Œä¸‹è½½åå³å¯ä½¿ç”¨ã€‚" target="_blank" rel="noopener">https://raylin.wordpress.com/downloads/md5-sha-1-checksum-utility/)ï¼Œä¸‹è½½åå³å¯ä½¿ç”¨ã€‚</a></p><hr><h4 id="Linux-ç¯å¢ƒä¸‹"><a href="#Linux-ç¯å¢ƒä¸‹" class="headerlink" title="Linux ç¯å¢ƒä¸‹"></a>Linux ç¯å¢ƒä¸‹</h4><p>Linux ä¸‹æœ‰ md5sum å‘½ä»¤ï¼Œsha1sum å‘½ä»¤å’Œ sha256sum å‘½ä»¤æ¥è®¡ç®—æ–‡ä»¶ç›¸å¯¹åº”çš„å€¼ï¼Œå…·ä½“ä½¿ç”¨å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@iz2ze0ibk1pvak9ckuwb5yz /]# md5sum test.txt </span><br><span class="line"></span><br><span class="line">2f6c38be914b756fde482fff83064d37 test.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@iz2ze0ibk1pvak9ckuwb5yz /]# sha1sum test.txt </span><br><span class="line"></span><br><span class="line">228dfdb10e9ad6fdf5ca97f402355df1952112fe test.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@iz2ze0ibk1pvak9ckuwb5yz /]# sha256sum test.txt </span><br><span class="line"></span><br><span class="line">d8a0785f3ce124ee8c79c172eefdc6989141aafaf9deab2dac8437ed5e60f5c4 test.txt</span><br></pre></td></tr></table></figure><hr><h4 id="macOS-ç¯å¢ƒä¸‹"><a href="#macOS-ç¯å¢ƒä¸‹" class="headerlink" title="macOS ç¯å¢ƒä¸‹"></a>macOS ç¯å¢ƒä¸‹</h4><p>macOS ä¸‹æœ‰ MD5 å‘½ä»¤å’Œ shasum å‘½ä»¤ï¼Œå…·ä½“ä½¿ç”¨å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">wangyxdeMBP:~ wangyx$ md5 test.txt</span><br><span class="line"></span><br><span class="line">MD5 (test.txt) = af7bbf6c8b822e9e89ccc2b8552ca294</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">wangyxdeMBP:~ wangyx$ shasum -a 1 test.txt</span><br><span class="line"></span><br><span class="line">1367a1ab1da100436c5ea6b0dc0d737ada6aede4 test.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">wangyxdeMBP:~ wangyx$ shasum -a 256 test.txt</span><br><span class="line"></span><br><span class="line">5913f04a2a92cbd0346a4a7cf7856f8174e12657ca267764b57da90b27c4c51f test.txt</span><br></pre></td></tr></table></figure><p><strong>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è®¡ç®—å‡ºçš„æ ¡éªŒå€¼å’Œç½‘ç«™æä¾›çš„æ ¡éªŒå€¼å¯¹æ¯”ï¼Œå¯ä»¥çœ‹å‡ºæ–‡ä»¶æ˜¯å¦è¢«ç¯¡æ”¹ã€‚</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;ç½‘ä¸Šä¸‹è½½å¾ˆå¤šæ–‡ä»¶ï¼Œéƒ½ä¼šæä¾› MD5 æˆ–è€… SHA256 æ ¡éªŒï¼Œé˜²æ­¢æ–‡ä»¶å†…å®¹è¢«ç¯¡æ”¹ï¼Œæ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°åï¼Œ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œæ ¡éªŒã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id=&quot;Windows-ç¯å¢ƒä¸‹&quot;&gt;&lt;a href=&quot;
      
    
    </summary>
    
      <category term="å·¥å…·" scheme="https://tryme.wang/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="å·¥å…·" scheme="https://tryme.wang/tags/%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>é…¸é…¸ä¹³</title>
    <link href="https://tryme.wang/2018/05/vultr-ssr/"/>
    <id>https://tryme.wang/2018/05/vultr-ssr/</id>
    <published>2018-05-02T14:50:50.000Z</published>
    <updated>2019-01-04T01:47:32.000Z</updated>
    
    <content type="html"><![CDATA[<h4 id="1-é¦–å…ˆå®˜ç½‘æ³¨å†Œè´¦å·"><a href="#1-é¦–å…ˆå®˜ç½‘æ³¨å†Œè´¦å·" class="headerlink" title="1. é¦–å…ˆå®˜ç½‘æ³¨å†Œè´¦å·"></a>1. é¦–å…ˆå®˜ç½‘æ³¨å†Œè´¦å·</h4><p><a href="https://www.vultr.com/?ref=7405465" target="_blank" rel="noopener">ç‚¹æˆ‘æ³¨å†Œè´¦å·</a></p><hr><h4 id="2-å……å€¼"><a href="#2-å……å€¼" class="headerlink" title="2. å……å€¼"></a>2. å……å€¼</h4><p>Vultr æ”¯æŒæ”¯ä»˜å®åŠ PayPal å’Œä¿¡ç”¨å¡æ”¯ä»˜ã€‚</p><p><img src="https://wx2.sinaimg.cn/large/007jb4T5ly1fxh2lftpn5j31f512gq7h.jpg" align="center" alt="image"></p><hr><h4 id="3-é€‰æ‹©å±æ€§"><a href="#3-é€‰æ‹©å±æ€§" class="headerlink" title="3. é€‰æ‹©å±æ€§"></a>3. é€‰æ‹©å±æ€§</h4><ul><li>åœ°åŒº</li></ul><p><img src="https://wx2.sinaimg.cn/large/007jb4T5ly1fxh2ma9jp1j31p10xcjxl.jpg" align="center" alt="image"></p><ul><li>é€‰æ‹©æ“ä½œç³»ç»Ÿï¼ˆå»ºè®® Centos6ï¼‰</li></ul><p><img src="https://ws1.sinaimg.cn/large/007jb4T5ly1fxh2nd1n86j31oa0lg0w6.jpg" align="center" alt="image"></p><ul><li>é€‰æ‹©é…ç½®</li></ul><p><img src="https://ws3.sinaimg.cn/large/007jb4T5ly1fxh2o800xyj31pt0vj7ai.jpg" align="center" alt="image"></p><ul><li>é¢å¤–é€‰é¡¹ï¼ˆæ ¹æ®éœ€è¦è‡ªå®šä¹‰ï¼‰</li></ul><p><img src="https://wx1.sinaimg.cn/large/007jb4T5ly1fxh2oz8lj6j312m0vm0v5.jpg" align="center" alt="image"></p><ul><li>ç­‰å¾…å®‰è£…</li></ul><p><img src="https://wx3.sinaimg.cn/large/007jb4T5ly1fxh2ps7645j31rn0jlgow.jpg" align="center" alt="image"></p><hr><h4 id="4-ç™»å½•-VPS"><a href="#4-ç™»å½•-VPS" class="headerlink" title="4. ç™»å½• VPS"></a>4. ç™»å½• VPS</h4><ul><li>è·å¾— IP åŠå¯†ç ï¼Œç™»å½•è¿œç¨‹ VPS</li></ul><p><img src="https://wx3.sinaimg.cn/large/007jb4T5ly1fxh2qlboaaj31qw0ttwkm.jpg" align="center" alt="image"></p><ul><li>å®‰è£…è„šæœ¬ï¼ˆé€—æ¯”æä¾›ï¼‰</li></ul><p><code>wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/ssr.sh &amp;&amp; chmod +x ssr.sh &amp;&amp; bash ssr.sh</code></p><ul><li>æŒ‰æç¤ºæ“ä½œ</li></ul><p><img src="https://wx2.sinaimg.cn/large/007jb4T5ly1fxh2rg59zhj30x60wqjw0.jpg" align="center" alt="image"></p><p><img src="https://wx3.sinaimg.cn/large/007jb4T5ly1fxh2sc25lcj31wb10ktjs.jpg" align="center" alt="image"></p><p><strong>æœ€åå¯ä»¥ä½¿ç”¨ SSR å®¢æˆ·ç«¯è¿›è¡Œè¿æ¥æµ‹è¯•ã€‚</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;1-é¦–å…ˆå®˜ç½‘æ³¨å†Œè´¦å·&quot;&gt;&lt;a href=&quot;#1-é¦–å…ˆå®˜ç½‘æ³¨å†Œè´¦å·&quot; class=&quot;headerlink&quot; title=&quot;1. é¦–å…ˆå®˜ç½‘æ³¨å†Œè´¦å·&quot;&gt;&lt;/a&gt;1. é¦–å…ˆå®˜ç½‘æ³¨å†Œè´¦å·&lt;/h4&gt;&lt;p&gt;&lt;a href=&quot;https://www.vultr.com/?ref=
      
    
    </summary>
    
      <category term="å®ç”¨" scheme="https://tryme.wang/categories/%E5%AE%9E%E7%94%A8/"/>
    
    
      <category term="Vultr" scheme="https://tryme.wang/tags/Vultr/"/>
    
  </entry>
  
  <entry>
    <title>å®‰è£…é”é€Ÿç ´è§£ç‰ˆæˆ– Google BBR é­”æ”¹ç‰ˆ</title>
    <link href="https://tryme.wang/2018/05/vps-install-server-speeder/"/>
    <id>https://tryme.wang/2018/05/vps-install-server-speeder/</id>
    <published>2018-05-02T14:15:45.000Z</published>
    <updated>2019-01-04T01:47:32.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><strong>æ³¨æ„ï¼šå®‰è£…é”é€Ÿéœ€é™çº§ç³»ç»Ÿå†…æ ¸ï¼Œè€Œå®‰è£… Google BBR ç®—æ³•éœ€è¦å‡çº§ç³»ç»Ÿå†…æ ¸ï¼ŒäºŒè€…ä¸å¯åŒæ—¶å®‰è£…ï¼ˆæœ¬æ–‡ä»¥CentOS6 64ä½ä¸ºä¾‹ï¼‰</strong></p></blockquote><hr><h3 id="å®‰è£…é”é€Ÿï¼ˆServerSpeederï¼‰ç ´è§£ç‰ˆ"><a href="#å®‰è£…é”é€Ÿï¼ˆServerSpeederï¼‰ç ´è§£ç‰ˆ" class="headerlink" title="å®‰è£…é”é€Ÿï¼ˆServerSpeederï¼‰ç ´è§£ç‰ˆ"></a>å®‰è£…é”é€Ÿï¼ˆServerSpeederï¼‰ç ´è§£ç‰ˆ</h3><h4 id="1-æŸ¥çœ‹ç³»ç»Ÿå†…æ ¸ç‰ˆæœ¬"><a href="#1-æŸ¥çœ‹ç³»ç»Ÿå†…æ ¸ç‰ˆæœ¬" class="headerlink" title="1. æŸ¥çœ‹ç³»ç»Ÿå†…æ ¸ç‰ˆæœ¬"></a>1. æŸ¥çœ‹ç³»ç»Ÿå†…æ ¸ç‰ˆæœ¬</h4><p>è¾“å…¥  <code>$ uname -r</code> æŸ¥çœ‹å½“å‰ç³»ç»Ÿå†…æ ¸ç‰ˆæœ¬ï¼ˆå¦‚æœå®‰è£…æ—¶é€‰çš„ CentOS6 64 ä½ç³»ç»Ÿçš„è¯ï¼Œä¼šå‡ºç°ä»¥ä¸‹æ–‡å­—ï¼‰</p><p><img src="https://ws3.sinaimg.cn/large/007jb4T5ly1fxh2cwq9spj30gy02uwes.jpg" align="center" alt="image"></p><hr><h4 id="2-è·å–å¹¶æ‰§è¡Œå®‰è£…è„šæœ¬"><a href="#2-è·å–å¹¶æ‰§è¡Œå®‰è£…è„šæœ¬" class="headerlink" title="2. è·å–å¹¶æ‰§è¡Œå®‰è£…è„šæœ¬"></a>2. è·å–å¹¶æ‰§è¡Œå®‰è£…è„šæœ¬</h4><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š<br><code>wget --no-check-certificate -O appex.sh https://raw.githubusercontent.com/0oVicero0/serverSpeeder_Install/master/appex.sh &amp;&amp; bash appex.sh install &#39;2.6.32-642.el6.x86_64&#39;</code></p><p><img src="https://ws3.sinaimg.cn/large/007jb4T5ly1fxh2eex4oij31b40e040u.jpg" align="center" alt="image"></p><p><img src="https://ws3.sinaimg.cn/large/007jb4T5ly1fxh2faezq4j31fr0x4aiv.jpg" align="center" alt="image"></p><p>ä¸€è·¯å›è½¦å³å¯<br>å‡ºç°ä»¥ä¸‹å†…å®¹å³ä¸ºå®‰è£…æˆåŠŸ</p><p><img src="https://ws3.sinaimg.cn/large/007jb4T5ly1fxh2grabyyj314a0uugqm.jpg" align="center" alt="image"></p><hr><p>å¦é™„ CentOS7 å®‰è£…é”é€Ÿç ´è§£ç‰ˆå‘½ä»¤ï¼š</p><blockquote><p>æ›´æ¢å†…æ ¸  <code>wget --no-check-certificate -O rskernel.sh https://raw.githubusercontent.com/uxh/shadowsocks_bash/master/rskernel.sh &amp;&amp; bash rskernel.sh</code><br>é‡å¯åæ‰§è¡Œå®‰è£… <code>yum install net-tools -y &amp;&amp; wget --no-check-certificate -O appex.sh https://raw.githubusercontent.com/0oVicero0/serverSpeeder_Install/master/appex.sh &amp;&amp; bash appex.sh install</code></p></blockquote><hr><h3 id="å®‰è£…-Google-BBR-é­”æ”¹ç‰ˆ"><a href="#å®‰è£…-Google-BBR-é­”æ”¹ç‰ˆ" class="headerlink" title="å®‰è£… Google BBR é­”æ”¹ç‰ˆ"></a>å®‰è£… Google BBR é­”æ”¹ç‰ˆ</h3><p><strong>CentOS6/7 ä½¿ç”¨</strong></p><p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š <code>wget --no-check-certificate https://raw.githubusercontent.com/nanqinlang-tcp/tcp_nanqinlang/master/General/CentOS/bash/tcp_nanqinlang-1.3.2.sh &amp;&amp; bash tcp_nanqinlang-1.3.2.sh</code></p><p><img src="https://wx1.sinaimg.cn/large/007jb4T5ly1fxh2i6ofl9j30yk0imn0s.jpg" align="center" alt="image"></p><p>å¦‚å†…æ ¸è¿‡ä½ï¼Œéœ€è¦å…ˆå‡çº§å†…æ ¸ï¼Œå†å®‰è£…ç®—æ³•ã€‚  </p><p>å®‰è£…æˆåŠŸåä¼šå‡ºç°ä»¥ä¸‹ç•Œé¢ï¼š</p><p><img src="https://wx2.sinaimg.cn/large/007jb4T5ly1fxh2jm0i9aj30m402y74t.jpg" align="center" alt="image"></p><hr><p><strong>å‚è€ƒåœ°å€ï¼š<a href="https://www.vultrcn.com/7.html" target="_blank" rel="noopener">åœ°å€1</a> <a href="https://www.vultrcn.com/5.html" target="_blank" rel="noopener">åœ°å€2</a></strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„ï¼šå®‰è£…é”é€Ÿéœ€é™çº§ç³»ç»Ÿå†…æ ¸ï¼Œè€Œå®‰è£… Google BBR ç®—æ³•éœ€è¦å‡çº§ç³»ç»Ÿå†…æ ¸ï¼ŒäºŒè€…ä¸å¯åŒæ—¶å®‰è£…ï¼ˆæœ¬æ–‡ä»¥CentOS6 64ä½ä¸ºä¾‹ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id=&quot;å®‰è£…é”é€Ÿï¼ˆSer
      
    
    </summary>
    
      <category term="å·¥å…·" scheme="https://tryme.wang/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="Google" scheme="https://tryme.wang/tags/Google/"/>
    
  </entry>
  
  <entry>
    <title>Spring æ•´åˆ Redis çš„åºåˆ—åŒ–</title>
    <link href="https://tryme.wang/2018/04/spring-redis/"/>
    <id>https://tryme.wang/2018/04/spring-redis/</id>
    <published>2018-04-18T14:44:02.000Z</published>
    <updated>2019-01-04T01:47:32.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="åºåˆ—åŒ–ç­–ç•¥"><a href="#åºåˆ—åŒ–ç­–ç•¥" class="headerlink" title="åºåˆ—åŒ–ç­–ç•¥"></a>åºåˆ—åŒ–ç­–ç•¥</h3><blockquote><ul><li><h4 id="String-åºåˆ—åŒ–"><a href="#String-åºåˆ—åŒ–" class="headerlink" title="String åºåˆ—åŒ–"></a>String åºåˆ—åŒ–</h4>StringRedisTemplate é»˜è®¤é‡‡ç”¨çš„æ˜¯ String çš„åºåˆ—åŒ–ç­–ç•¥ï¼Œä¿å­˜çš„ key å’Œ value éƒ½æ˜¯é‡‡ç”¨æ­¤ç­–ç•¥åºåˆ—åŒ–ä¿å­˜çš„ã€‚å³ StringRedisSerializer</li><li><h4 id="JDK-åºåˆ—åŒ–"><a href="#JDK-åºåˆ—åŒ–" class="headerlink" title="JDK åºåˆ—åŒ–"></a>JDK åºåˆ—åŒ–</h4>RedisTemplate é»˜è®¤é‡‡ç”¨çš„æ˜¯ JDK çš„åºåˆ—åŒ–ç­–ç•¥ï¼Œä¿å­˜çš„ key å’Œ value éƒ½æ˜¯é‡‡ç”¨æ­¤ç­–ç•¥åºåˆ—åŒ–ä¿å­˜çš„ã€‚å³ JdkSerializationRedisSerializer</li><li><h3 id="JacksonJsonRedisSerializer"><a href="#JacksonJsonRedisSerializer" class="headerlink" title="JacksonJsonRedisSerializer"></a>JacksonJsonRedisSerializer</h3></li><li><h3 id="Jackson2JsonRedisSerializer"><a href="#Jackson2JsonRedisSerializer" class="headerlink" title="Jackson2JsonRedisSerializer"></a>Jackson2JsonRedisSerializer</h3></li><li><h3 id="OxmSerializer"><a href="#OxmSerializer" class="headerlink" title="OxmSerializer"></a>OxmSerializer</h3></li></ul></blockquote><hr><h3 id="å¯èƒ½é‡åˆ°çš„é—®é¢˜"><a href="#å¯èƒ½é‡åˆ°çš„é—®é¢˜" class="headerlink" title="å¯èƒ½é‡åˆ°çš„é—®é¢˜"></a>å¯èƒ½é‡åˆ°çš„é—®é¢˜</h3><blockquote><p>å› ä¸ºåºåˆ—åŒ–ç­–ç•¥çš„ä¸åŒï¼Œå³ä½¿æ˜¯åŒä¸€ä¸ª key ç”¨ä¸åŒçš„ Template å»åºåˆ—åŒ–ï¼Œç»“æœæ˜¯ä¸åŒçš„ã€‚æ‰€ä»¥æ ¹æ® key å»è¿›è¡Œæ“ä½œ Redis ä¸­çš„æ•°æ®æ—¶ï¼Œå°±ä¼šå‡ºç°å„ç§æ“ä½œå¤±è´¥çš„é—®é¢˜ã€‚</p></blockquote><hr><h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h3><p>å¯ä»¥æ‰‹åŠ¨æŒ‡å®š RedisTemplate çš„ key çš„åºåˆ—åŒ–ç­–ç•¥</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- redis åºåˆ—åŒ–ç­–ç•¥ ï¼Œé€šå¸¸æƒ…å†µä¸‹keyå€¼é‡‡ç”¨Stringåºåˆ—åŒ–ç­–ç•¥ï¼Œ --&gt;</span>  </span><br><span class="line"><span class="comment">&lt;!-- å¦‚æœä¸æŒ‡å®šåºåˆ—åŒ–ç­–ç•¥ï¼ŒStringRedisTemplateçš„keyå’Œvalueéƒ½å°†é‡‡ç”¨Stringåºåˆ—åŒ–ç­–ç•¥ï¼› --&gt;</span>  </span><br><span class="line"><span class="comment">&lt;!-- ä½†æ˜¯RedisTemplateçš„keyå’Œvalueéƒ½å°†é‡‡ç”¨JDKåºåˆ—åŒ– è¿™æ ·å°±ä¼šå‡ºç°é‡‡ç”¨ä¸åŒtemplateä¿å­˜çš„æ•°æ®ä¸èƒ½ç”¨åŒä¸€ä¸ªtemplateæ“ä½œçš„é—®é¢˜ --&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"stringRedisSerializer"</span>   </span></span><br><span class="line"><span class="tag">    <span class="attr">class</span>=<span class="string">"org.springframework.data.redis.serializer.StringRedisSerializer"</span> /&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">'redisWriteTemplate'</span> <span class="attr">class</span>=<span class="string">"org.springframework.data.redis.core.RedisTemplate"</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"connectionFactory"</span> <span class="attr">ref</span>=<span class="string">"jedisWriteConnectionFactory"</span> /&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"keySerializer"</span> <span class="attr">ref</span>=<span class="string">"stringRedisSerializer"</span> /&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"hashKeySerializer"</span> <span class="attr">ref</span>=<span class="string">"stringRedisSerializer"</span> /&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æ¨èå°†æ‰€æœ‰ Template çš„ key éƒ½é‡‡ç”¨ String çš„åºåˆ—åŒ–æ–¹å¼ï¼Œè€Œ value çš„åºåˆ—åŒ–æ–¹å¼å¯ä»¥é‡‡ç”¨ä¸åŒçš„åºåˆ—åŒ–æ–¹å¼ã€‚ï¼ˆjedis è‡ªåŠ¨é€‰æ‹©ï¼‰(è¿™æ ·è¿˜æœ‰ä¸€ä¸ªå¥½å¤„å°±æ˜¯ä¸å¿… string çš„ä¹Ÿé‡‡ç”¨ jdk çš„åºåˆ—åŒ–ä»è€Œå¯¼å¸¸ç”¨æ•°æ®æ ¼å¼è‡´ä¸ºäº†å­˜å‚¨æ•°æ®ç»“æ„æµªè´¹ç©ºé—´)</p><p><a href="https://blog.csdn.net/y666666y/article/details/70212767" target="_blank" rel="noopener">å‚è€ƒåœ°å€</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;åºåˆ—åŒ–ç­–ç•¥&quot;&gt;&lt;a href=&quot;#åºåˆ—åŒ–ç­–ç•¥&quot; class=&quot;headerlink&quot; title=&quot;åºåˆ—åŒ–ç­–ç•¥&quot;&gt;&lt;/a&gt;åºåˆ—åŒ–ç­–ç•¥&lt;/h3&gt;&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;h4 id=&quot;String-åºåˆ—åŒ–&quot;&gt;&lt;a href=&quot;#String-åºåˆ—
      
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="https://tryme.wang/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Java" scheme="https://tryme.wang/tags/Java/"/>
    
      <category term="Spring" scheme="https://tryme.wang/tags/Spring/"/>
    
  </entry>
  
</feed>
